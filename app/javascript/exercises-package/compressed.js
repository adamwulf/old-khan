var correctAnswer=null;var correct_answer=null;var comparisonFunction=function eq(g,f){return g==f};function roundNumber(g,f){return Math.round(g*Math.pow(10,f))/Math.pow(10,f)}function pickType(low,high){var notDoneType=null;generateNewProblem(function(){notDoneType=""+getRandomIntRange(low,high);return notDoneType},Math.floor((high-low)/2),"type");eval("type"+notDoneType+"()")}function pickNumber(f,h){var g=null;generateNewProblem(function(){g=getRandomIntRange(f,h);return""+g},Math.floor((h-f)/2),"number");return g}function nicefySigns(f){while(f.indexOf("+ -")!=-1){f=f.replace("+ -","- ")}while(f.indexOf("- -")!=-1){f=f.replace("- -","+ ")}return f}function writeText(f){write_text(f)}function writeStep(f){write_step(f)}function simplifiedRoot(f){var g=perfect_square_factor(f);if(g.length==1){return"sqrt("+f+")"}else{if(g[0]==1){return Math.sqrt(f)}else{return(Math.sqrt(g[1])+"sqrt("+g[0]+")")}}}function equationString(f){return equation_string(f)}function writeEquation(f){writeText(equationString(f))}function setCorrectAnswer(f){correctAnswer=f+"";correct_answer=f}function mathFormatWithColor(j,f){var h=mathFormat(j);var g="<font color="+f+" size=4>";return(g+h+"</font>")}function mathFormat(h){h=h+"";if(h.length>0&&h.charAt(0)=="`"){return h}var g=/^ *[+-]? *(0|[1-9][0-9]*) *$/;if(g.test(h)){var f=parseInt(h);if(!isNaN(f)){h=format_fraction(parseInt(h),1)}}return"`"+h+"`"}function nonZeroRandomInt(f,j){var g=getRandomIntRange(f,j);while(g==0){g=getRandomIntRange(f,j)}return g}function randomMember(f){return f[getRandomInt(f.length-1)]}function problemFooter(){while(possibleAnswers.length<6){addWrongChoice(getRandomIntRange(-10,10))}correct_answer=mathFormat(correct_answer);problem_footer()}function freeAnswerFooter(){free_answer_footer()}function formatCoefficient(f){return format_coefficient(f)}function formatFirstCoefficient(f){return format_first_coefficient(f)}function formatConstant(f){return format_constant(f)}function formatFraction(g,f){return format_fraction(g,f)}function formatFractionWithSign(g,f){return format_fraction_with_sign(g,f)}function formatNotReduced(g,f){return format_not_reduced(g,f)}function formatNotReducedWithSign(g,f){return format_not_reduced_with_sign(g,f)}function arraySum(f){return array_sum(f)}var correctnessRegistered=false;function handleCorrectness(f){if(!correctnessRegistered){$.post("/registercorrectness",{key:$("#key").val(),time_warp:$("#time_warp").val(),correct:((f&&tries==0&&steps_given==0)?1:0),hint_used:($("#hint_used").val()==1?1:0)});correctnessRegistered=true}if(f){if(tries==0&&steps_given==0){document.getElementById("correct").value="1"}$("#hint_used").val(steps_given==0?"0":"1");$("#check-answer-results").show();$("#check-answer-results #nextbutton").show();$("#check-answer-button").hide();document.images.feedback.src=correct.src;eraseCookie(notDoneCookie);document.forms.answerform.correctnextbutton.focus()}else{tries++;$("#check-answer-results").show();$("#check-answer-results #nextbutton").hide();document.images.feedback.src=incorrect.src}}function checkFreeAnswer(){var g=parseFloatStrict(document.getElementById("answer").value);if(isNaN(g)){window.alert("Your answer is not a number.  Please try again.");return}var f=(g==parseFloat(correctAnswer));handleCorrectness(f)}function parseFloatStrict(g){if(g){var f=/,/g;g=g.replace(f,"");g=$.trim(g);if(!isNumericStrict(g)){return NaN}}return parseFloat(g)}function isNumericStrict(f){return !isNaN(parseFloat(f))&&isFinite(f)}function graphFooter(){correct_answer=mathFormat(correct_answer)}function graphicalFooter(){correct_answer=mathFormat(correct_answer);correctchoice=Math.round(KhanAcademy.random()*4.98-0.49);var f=randomIndices(possibleAnswers.length);var h=randomIndices(definiteWrongAnswers.length);for(var g=0;g<5;g++){if(g==correctchoice){answerChoices[g]=correct_answer}else{if(h.length>0){answerChoices[g]="`"+definiteWrongAnswers[h.pop()]+"`"}else{answerChoices[g]="`"+possibleAnswers[f.pop()]+"`"}}document.write('<br><input type="radio" name="selectAnswer" onClick="select_choice('+g+')">'+answerChoices[g]+"</input></br>")}document.write('<br><input type="button" value="Hint" onClick="give_next_step()"><input type="button" value="Check Answer" onClick="check_answer()"></br>');document.write('<br><img src="/images/blank.gif" name="feedback"><div id="nextbutton" style="position:relative; visibility:hidden;"><input type="button" value="Correct! Next Question..." onClick="new_question()"></div></br>');document.write("</form></td></tr></table>");document.answerform.reset()}function getResponseProps(response,header){try{var s=response.getResponseHeader(header||"X-Ajax-Props");if(s==null||s==""){return new Object()}else{return eval("o="+s)}}catch(e){return new Object()}}KhanAcademy={random:Math.random,seedRandom:function(f){var g=Math.random;Math.seedrandom(f);KhanAcademy.random=Math.random;Math.random=g},onMathMLSupportReady:function(h){ASCIIMathMLTranslate=translate;translate=function(j){ASCIIMathMLTranslate();if(j&&j.call){j.call()}};if(g()&&f()){h.call();return}checkForMathML=false;showasciiformulaonhover=false;translate=function(l){var k=$("#hint");if(k){k.attr("disabled","disabled")}ASCIIMathMLTranslate();function j(){if(k){k.removeAttr("disabled")}if(l&&l.call){l.call()}}if(MathJax.isReady){MathJax.Hub.Queue(["Typeset",MathJax.Hub,null,j])}else{j()}};MathJax.Hub.Register.StartupHook("End",h);function f(){var l=new Detector();var k=["cmsy10","STIXNonUnicode","STIXSize1","STIXGeneral","Standard Symbols L","DejaVu Sans","Cambria Math"];for(var j=0;j<k.length;j++){if(l.test(k[j])){return true}}return false}function g(){var l;try{new ActiveXObject("MathPlayer.Factory.1");l=true}catch(k){l=false}return(($.browser.mozilla&&j("1.5"))||($.browser.msie&&l&&$.browser.version!="9.0"&&$.browser.version!="8.0")||($.browser.opera&&j("9.52")));function j(q){var o=$.browser.version.split(".");q=q.split(".");while(q.length&&o.length){var m=q.shift();var r=o.shift();if(r>m){return true}if(r<m){return false}}return false}}}};var checkForMathML=true;var notifyIfNoMathML=true;var mathcolor="";var mathfontfamily="serif";var displaystyle=true;var separatetokens=false;var AMdelimiter1="`",AMescape1="\\\\`";var AMdelimiter2="$",AMescape2="\\\\\\$",AMdelimiter2regexp="\\$";var doubleblankmathdelimiter=false;var isIE=document.createElementNS==null;if(document.getElementById==null){alert("This webpage requires a recent browser such as\nMozilla/Netscape 7+ or Internet Explorer 6+MathPlayer")}function AMcreateElementXHTML(f){if(isIE){return document.createElement(f)}else{return document.createElementNS("http://www.w3.org/1999/xhtml",f)}}function AMisMathMLavailable(){var h=AMcreateElementXHTML("center");h.appendChild(document.createTextNode("To view the "));var f=AMcreateElementXHTML("a");f.appendChild(document.createTextNode("ASCIIMathML"));f.setAttribute("href","http://www.chapman.edu/~jipsen/asciimath.html");h.appendChild(f);h.appendChild(document.createTextNode(" notation use Internet Explorer 6+"));f=AMcreateElementXHTML("a");f.appendChild(document.createTextNode("MathPlayer"));f.setAttribute("href","http://www.dessci.com/en/products/mathplayer/download.htm");h.appendChild(f);h.appendChild(document.createTextNode(" or Netscape/Mozilla/Firefox"));if(navigator.appName.slice(0,8)=="Netscape"){if(navigator.appVersion.slice(0,1)>="5"){return null}else{return h}}else{if(navigator.appName.slice(0,9)=="Microsoft"){try{var j=new ActiveXObject("MathPlayer.Factory.1");return null}catch(g){return h}}else{return h}}}var AMcal=[61237,8492,61238,61239,8496,8497,61240,8459,8464,61241,61242,8466,8499,61243,61244,61245,61246,8475,61247,61248,61249,61250,61251,61252,61253,61254];var AMfrk=[61277,61278,8493,61279,61280,61281,61282,8460,8465,61283,61284,61285,61286,61287,61288,61289,61290,8476,61291,61292,61293,61294,61295,61296,61297,8488];var AMbbb=[61324,61325,8450,61326,61327,61328,61329,8461,61330,61331,61332,61333,61334,8469,61335,8473,8474,8477,61336,61337,61338,61339,61340,61341,61342,8484];var CONST=0,UNARY=1,BINARY=2,INFIX=3,LEFTBRACKET=4,RIGHTBRACKET=5,SPACE=6,UNDEROVER=7,DEFINITION=8;var AMsqrt={input:"sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:UNARY},AMroot={input:"root",tag:"mroot",output:"root",tex:null,ttype:BINARY},AMfrac={input:"frac",tag:"mfrac",output:"/",tex:null,ttype:BINARY},AMdiv={input:"/",tag:"mfrac",output:"/",tex:null,ttype:INFIX},AMover={input:"stackrel",tag:"mover",output:"stackrel",tex:null,ttype:BINARY},AMsub={input:"_",tag:"msub",output:"_",tex:null,ttype:INFIX},AMsup={input:"^",tag:"msup",output:"^",tex:null,ttype:INFIX},AMtext={input:"text",tag:"mtext",output:"text",tex:null,ttype:UNARY},AMmbox={input:"mbox",tag:"mtext",output:"mbox",tex:null,ttype:UNARY},AMquote={input:'"',tag:"mtext",output:"mbox",tex:null,ttype:UNARY};var AMsymbols=[{input:"alpha",tag:"mi",output:"\u03B1",tex:null,ttype:CONST},{input:"beta",tag:"mi",output:"\u03B2",tex:null,ttype:CONST},{input:"chi",tag:"mi",output:"\u03C7",tex:null,ttype:CONST},{input:"delta",tag:"mi",output:"\u03B4",tex:null,ttype:CONST},{input:"Delta",tag:"mo",output:"\u0394",tex:null,ttype:CONST},{input:"epsi",tag:"mi",output:"\u03B5",tex:"epsilon",ttype:CONST},{input:"varepsilon",tag:"mi",output:"\u025B",tex:null,ttype:CONST},{input:"eta",tag:"mi",output:"\u03B7",tex:null,ttype:CONST},{input:"gamma",tag:"mi",output:"\u03B3",tex:null,ttype:CONST},{input:"Gamma",tag:"mo",output:"\u0393",tex:null,ttype:CONST},{input:"iota",tag:"mi",output:"\u03B9",tex:null,ttype:CONST},{input:"kappa",tag:"mi",output:"\u03BA",tex:null,ttype:CONST},{input:"lambda",tag:"mi",output:"\u03BB",tex:null,ttype:CONST},{input:"Lambda",tag:"mo",output:"\u039B",tex:null,ttype:CONST},{input:"mu",tag:"mi",output:"\u03BC",tex:null,ttype:CONST},{input:"nu",tag:"mi",output:"\u03BD",tex:null,ttype:CONST},{input:"omega",tag:"mi",output:"\u03C9",tex:null,ttype:CONST},{input:"Omega",tag:"mo",output:"\u03A9",tex:null,ttype:CONST},{input:"phi",tag:"mi",output:"\u03C6",tex:null,ttype:CONST},{input:"varphi",tag:"mi",output:"\u03D5",tex:null,ttype:CONST},{input:"Phi",tag:"mo",output:"\u03A6",tex:null,ttype:CONST},{input:"pi",tag:"mi",output:"\u03C0",tex:null,ttype:CONST},{input:"Pi",tag:"mo",output:"\u03A0",tex:null,ttype:CONST},{input:"psi",tag:"mi",output:"\u03C8",tex:null,ttype:CONST},{input:"rho",tag:"mi",output:"\u03C1",tex:null,ttype:CONST},{input:"sigma",tag:"mi",output:"\u03C3",tex:null,ttype:CONST},{input:"Sigma",tag:"mo",output:"\u03A3",tex:null,ttype:CONST},{input:"tau",tag:"mi",output:"\u03C4",tex:null,ttype:CONST},{input:"theta",tag:"mi",output:"\u03B8",tex:null,ttype:CONST},{input:"vartheta",tag:"mi",output:"\u03D1",tex:null,ttype:CONST},{input:"Theta",tag:"mo",output:"\u0398",tex:null,ttype:CONST},{input:"upsilon",tag:"mi",output:"\u03C5",tex:null,ttype:CONST},{input:"xi",tag:"mi",output:"\u03BE",tex:null,ttype:CONST},{input:"Xi",tag:"mo",output:"\u039E",tex:null,ttype:CONST},{input:"zeta",tag:"mi",output:"\u03B6",tex:null,ttype:CONST},{input:"*",tag:"mo",output:"\u22C5",tex:"cdot",ttype:CONST},{input:"**",tag:"mo",output:"\u22C6",tex:"star",ttype:CONST},{input:"//",tag:"mo",output:"/",tex:null,ttype:CONST},{input:"\\\\",tag:"mo",output:"\\",tex:"backslash",ttype:CONST},{input:"setminus",tag:"mo",output:"\\",tex:null,ttype:CONST},{input:"xx",tag:"mo",output:"\u00D7",tex:"times",ttype:CONST},{input:"-:",tag:"mo",output:"\u00F7",tex:"divide",ttype:CONST},{input:"@",tag:"mo",output:"\u2218",tex:"circ",ttype:CONST},{input:"o+",tag:"mo",output:"\u2295",tex:"oplus",ttype:CONST},{input:"ox",tag:"mo",output:"\u2297",tex:"otimes",ttype:CONST},{input:"o.",tag:"mo",output:"\u2299",tex:"odot",ttype:CONST},{input:"sum",tag:"mo",output:"\u2211",tex:null,ttype:UNDEROVER},{input:"prod",tag:"mo",output:"\u220F",tex:null,ttype:UNDEROVER},{input:"^^",tag:"mo",output:"\u2227",tex:"wedge",ttype:CONST},{input:"^^^",tag:"mo",output:"\u22C0",tex:"bigwedge",ttype:UNDEROVER},{input:"vv",tag:"mo",output:"\u2228",tex:"vee",ttype:CONST},{input:"vvv",tag:"mo",output:"\u22C1",tex:"bigvee",ttype:UNDEROVER},{input:"nn",tag:"mo",output:"\u2229",tex:"cap",ttype:CONST},{input:"nnn",tag:"mo",output:"\u22C2",tex:"bigcap",ttype:UNDEROVER},{input:"uu",tag:"mo",output:"\u222A",tex:"cup",ttype:CONST},{input:"uuu",tag:"mo",output:"\u22C3",tex:"bigcup",ttype:UNDEROVER},{input:"!=",tag:"mo",output:"\u2260",tex:"ne",ttype:CONST},{input:":=",tag:"mo",output:":=",tex:null,ttype:CONST},{input:"lt",tag:"mo",output:"<",tex:null,ttype:CONST},{input:"<=",tag:"mo",output:"\u2264",tex:"le",ttype:CONST},{input:"lt=",tag:"mo",output:"\u2264",tex:"leq",ttype:CONST},{input:">=",tag:"mo",output:"\u2265",tex:"ge",ttype:CONST},{input:"geq",tag:"mo",output:"\u2265",tex:null,ttype:CONST},{input:"-<",tag:"mo",output:"\u227A",tex:"prec",ttype:CONST},{input:"-lt",tag:"mo",output:"\u227A",tex:null,ttype:CONST},{input:">-",tag:"mo",output:"\u227B",tex:"succ",ttype:CONST},{input:"in",tag:"mo",output:"\u2208",tex:null,ttype:CONST},{input:"!in",tag:"mo",output:"\u2209",tex:"notin",ttype:CONST},{input:"sub",tag:"mo",output:"\u2282",tex:"subset",ttype:CONST},{input:"sup",tag:"mo",output:"\u2283",tex:"supset",ttype:CONST},{input:"sube",tag:"mo",output:"\u2286",tex:"subseteq",ttype:CONST},{input:"supe",tag:"mo",output:"\u2287",tex:"supseteq",ttype:CONST},{input:"-=",tag:"mo",output:"\u2261",tex:"equiv",ttype:CONST},{input:"~=",tag:"mo",output:"\u2245",tex:"cong",ttype:CONST},{input:"~~",tag:"mo",output:"\u2248",tex:"approx",ttype:CONST},{input:"prop",tag:"mo",output:"\u221D",tex:"propto",ttype:CONST},{input:"and",tag:"mtext",output:"and",tex:null,ttype:SPACE},{input:"or",tag:"mtext",output:"or",tex:null,ttype:SPACE},{input:"not",tag:"mo",output:"\u00AC",tex:"neg",ttype:CONST},{input:"=>",tag:"mo",output:"\u21D2",tex:"implies",ttype:CONST},{input:"if",tag:"mo",output:"if",tex:null,ttype:SPACE},{input:"<=>",tag:"mo",output:"\u21D4",tex:"iff",ttype:CONST},{input:"AA",tag:"mo",output:"\u2200",tex:"forall",ttype:CONST},{input:"EE",tag:"mo",output:"\u2203",tex:"exists",ttype:CONST},{input:"_|_",tag:"mo",output:"\u22A5",tex:"bot",ttype:CONST},{input:"TT",tag:"mo",output:"\u22A4",tex:"top",ttype:CONST},{input:"|-",tag:"mo",output:"\u22A2",tex:"vdash",ttype:CONST},{input:"|=",tag:"mo",output:"\u22A8",tex:"models",ttype:CONST},{input:"(",tag:"mo",output:"(",tex:null,ttype:LEFTBRACKET},{input:")",tag:"mo",output:")",tex:null,ttype:RIGHTBRACKET},{input:"[",tag:"mo",output:"[",tex:null,ttype:LEFTBRACKET},{input:"]",tag:"mo",output:"]",tex:null,ttype:RIGHTBRACKET},{input:"{",tag:"mo",output:"{",tex:null,ttype:LEFTBRACKET},{input:"}",tag:"mo",output:"}",tex:null,ttype:RIGHTBRACKET},{input:"(:",tag:"mo",output:"\u2329",tex:"langle",ttype:LEFTBRACKET},{input:":)",tag:"mo",output:"\u232A",tex:"rangle",ttype:RIGHTBRACKET},{input:"<<",tag:"mo",output:"\u2329",tex:null,ttype:LEFTBRACKET},{input:">>",tag:"mo",output:"\u232A",tex:null,ttype:RIGHTBRACKET},{input:"{:",tag:"mo",output:"{:",tex:null,ttype:LEFTBRACKET,invisible:true},{input:":}",tag:"mo",output:":}",tex:null,ttype:RIGHTBRACKET,invisible:true},{input:"int",tag:"mo",output:"\u222B",tex:null,ttype:CONST},{input:"dx",tag:"mi",output:"{:d x:}",tex:null,ttype:DEFINITION},{input:"dy",tag:"mi",output:"{:d y:}",tex:null,ttype:DEFINITION},{input:"dz",tag:"mi",output:"{:d z:}",tex:null,ttype:DEFINITION},{input:"dt",tag:"mi",output:"{:d t:}",tex:null,ttype:DEFINITION},{input:"oint",tag:"mo",output:"\u222E",tex:null,ttype:CONST},{input:"del",tag:"mo",output:"\u2202",tex:"partial",ttype:CONST},{input:"grad",tag:"mo",output:"\u2207",tex:"nabla",ttype:CONST},{input:"+-",tag:"mo",output:"\u00B1",tex:"pm",ttype:CONST},{input:"O/",tag:"mo",output:"\u2205",tex:"emptyset",ttype:CONST},{input:"oo",tag:"mo",output:"\u221E",tex:"infty",ttype:CONST},{input:"aleph",tag:"mo",output:"\u2135",tex:null,ttype:CONST},{input:"...",tag:"mo",output:"...",tex:"ldots",ttype:CONST},{input:"\\ ",tag:"mo",output:"\u00A0",tex:null,ttype:CONST},{input:"quad",tag:"mo",output:"\u00A0\u00A0",tex:null,ttype:CONST},{input:"qquad",tag:"mo",output:"\u00A0\u00A0\u00A0\u00A0",tex:null,ttype:CONST},{input:"cdots",tag:"mo",output:"\u22EF",tex:null,ttype:CONST},{input:"vdots",tag:"mo",output:"\u22EE",tex:null,ttype:CONST},{input:"ddots",tag:"mo",output:"\u22F1",tex:null,ttype:CONST},{input:"diamond",tag:"mo",output:"\u22C4",tex:null,ttype:CONST},{input:"square",tag:"mo",output:"\u25A1",tex:null,ttype:CONST},{input:"|_",tag:"mo",output:"\u230A",tex:"lfloor",ttype:CONST},{input:"_|",tag:"mo",output:"\u230B",tex:"rfloor",ttype:CONST},{input:"|~",tag:"mo",output:"\u2308",tex:"lceiling",ttype:CONST},{input:"~|",tag:"mo",output:"\u2309",tex:"rceiling",ttype:CONST},{input:"CC",tag:"mo",output:"\u2102",tex:null,ttype:CONST},{input:"NN",tag:"mo",output:"\u2115",tex:null,ttype:CONST},{input:"QQ",tag:"mo",output:"\u211A",tex:null,ttype:CONST},{input:"RR",tag:"mo",output:"\u211D",tex:null,ttype:CONST},{input:"ZZ",tag:"mo",output:"\u2124",tex:null,ttype:CONST},{input:"lim",tag:"mo",output:"lim",tex:null,ttype:UNDEROVER},{input:"Lim",tag:"mo",output:"Lim",tex:null,ttype:UNDEROVER},{input:"sin",tag:"mo",output:"sin",tex:null,ttype:CONST},{input:"cos",tag:"mo",output:"cos",tex:null,ttype:CONST},{input:"tan",tag:"mo",output:"tan",tex:null,ttype:CONST},{input:"sinh",tag:"mo",output:"sinh",tex:null,ttype:CONST},{input:"cosh",tag:"mo",output:"cosh",tex:null,ttype:CONST},{input:"tanh",tag:"mo",output:"tanh",tex:null,ttype:CONST},{input:"cot",tag:"mo",output:"cot",tex:null,ttype:CONST},{input:"sec",tag:"mo",output:"sec",tex:null,ttype:CONST},{input:"csc",tag:"mo",output:"csc",tex:null,ttype:CONST},{input:"log",tag:"mo",output:"log",tex:null,ttype:CONST},{input:"ln",tag:"mo",output:"ln",tex:null,ttype:CONST},{input:"det",tag:"mo",output:"det",tex:null,ttype:CONST},{input:"dim",tag:"mo",output:"dim",tex:null,ttype:CONST},{input:"mod",tag:"mo",output:"mod",tex:null,ttype:CONST},{input:"gcd",tag:"mo",output:"gcd",tex:null,ttype:CONST},{input:"lcm",tag:"mo",output:"lcm",tex:null,ttype:CONST},{input:"lub",tag:"mo",output:"lub",tex:null,ttype:CONST},{input:"glb",tag:"mo",output:"glb",tex:null,ttype:CONST},{input:"min",tag:"mo",output:"min",tex:null,ttype:UNDEROVER},{input:"max",tag:"mo",output:"max",tex:null,ttype:UNDEROVER},{input:"uarr",tag:"mo",output:"\u2191",tex:"uparrow",ttype:CONST},{input:"darr",tag:"mo",output:"\u2193",tex:"downarrow",ttype:CONST},{input:"rarr",tag:"mo",output:"\u2192",tex:"rightarrow",ttype:CONST},{input:"->",tag:"mo",output:"\u2192",tex:"to",ttype:CONST},{input:"|->",tag:"mo",output:"\u21A6",tex:"mapsto",ttype:CONST},{input:"larr",tag:"mo",output:"\u2190",tex:"leftarrow",ttype:CONST},{input:"harr",tag:"mo",output:"\u2194",tex:"leftrightarrow",ttype:CONST},{input:"rArr",tag:"mo",output:"\u21D2",tex:"Rightarrow",ttype:CONST},{input:"lArr",tag:"mo",output:"\u21D0",tex:"Leftarrow",ttype:CONST},{input:"hArr",tag:"mo",output:"\u21D4",tex:"Leftrightarrow",ttype:CONST},AMsqrt,AMroot,AMfrac,AMdiv,AMover,AMsub,AMsup,{input:"hat",tag:"mover",output:"\u005E",tex:null,ttype:UNARY,acc:true},{input:"bar",tag:"mover",output:"\u00AF",tex:"overline",ttype:UNARY,acc:true},{input:"vec",tag:"mover",output:"\u2192",tex:null,ttype:UNARY,acc:true},{input:"dot",tag:"mover",output:".",tex:null,ttype:UNARY,acc:true},{input:"ddot",tag:"mover",output:"..",tex:null,ttype:UNARY,acc:true},{input:"ul",tag:"munder",output:"\u0332",tex:"underline",ttype:UNARY,acc:true},AMtext,AMmbox,AMquote,{input:"bb",tag:"mstyle",atname:"fontweight",atval:"bold",output:"bb",tex:null,ttype:UNARY},{input:"mathbf",tag:"mstyle",atname:"fontweight",atval:"bold",output:"mathbf",tex:null,ttype:UNARY},{input:"sf",tag:"mstyle",atname:"fontfamily",atval:"sans-serif",output:"sf",tex:null,ttype:UNARY},{input:"mathsf",tag:"mstyle",atname:"fontfamily",atval:"sans-serif",output:"mathsf",tex:null,ttype:UNARY},{input:"bbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"bbb",tex:null,ttype:UNARY,codes:AMbbb},{input:"mathbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"mathbb",tex:null,ttype:UNARY,codes:AMbbb},{input:"cc",tag:"mstyle",atname:"mathvariant",atval:"script",output:"cc",tex:null,ttype:UNARY,codes:AMcal},{input:"mathcal",tag:"mstyle",atname:"mathvariant",atval:"script",output:"mathcal",tex:null,ttype:UNARY,codes:AMcal},{input:"tt",tag:"mstyle",atname:"fontfamily",atval:"monospace",output:"tt",tex:null,ttype:UNARY},{input:"mathtt",tag:"mstyle",atname:"fontfamily",atval:"monospace",output:"mathtt",tex:null,ttype:UNARY},{input:"fr",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"fr",tex:null,ttype:UNARY,codes:AMfrk},{input:"mathfrak",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"mathfrak",tex:null,ttype:UNARY,codes:AMfrk}];function compareNames(g,f){if(g.input>f.input){return 1}else{return -1}}var AMnames=[];function AMinitSymbols(){var g=[],f;for(f=0;f<AMsymbols.length;f++){if(AMsymbols[f].tex){g[g.length]={input:AMsymbols[f].tex,tag:AMsymbols[f].tag,output:AMsymbols[f].output,ttype:AMsymbols[f].ttype}}}AMsymbols=AMsymbols.concat(g);AMsymbols.sort(compareNames);for(f=0;f<AMsymbols.length;f++){AMnames[f]=AMsymbols[f].input}}var AMmathml="http://www.w3.org/1998/Math/MathML";function AMcreateElementMathML(f){if(isIE){return document.createElement("mml:"+f)}else{return document.createElementNS(AMmathml,f)}}function AMcreateMmlNode(f,h){var g=AMcreateElementMathML(f);g.appendChild(h);return g}function AMremoveCharsAndBlanks(h,j){var f;if(h.charAt(j)=="\\"&&h.charAt(j+1)!="\\"&&h.charAt(j+1)!=" "){f=h.slice(j+1)}else{f=h.slice(j)}for(var g=0;g<f.length&&f.charCodeAt(g)<=32;g=g+1){}return f.slice(g)}function AMposition(g,l,o){if(o==0){var k,f;o=-1;k=g.length;while(o+1<k){f=(o+k)>>1;if(g[f]<l){o=f}else{k=f}}return k}else{for(var j=o;j<g.length&&g[j]<l;j++){}}return j}var AMseparated=true;function AMgetSymbol(q){var f=0;var g=0;var l;var w;var v;var m="";var o=true;for(var h=1;h<=q.length&&o;h++){w=q.slice(0,h);g=f;f=AMposition(AMnames,w,g);if(f<AMnames.length&&q.slice(0,AMnames[f].length)==AMnames[f]){m=AMnames[f];l=f;h=m.length}o=f<AMnames.length&&q.slice(0,AMnames[f].length)>=AMnames[f]}if(m!=""){if(separatetokens){h=m.length;if("a">q.charAt(0)||q.charAt(0)>"z"||"a">q.charAt(h-1)||q.charAt(h-1)>"z"){AMseparated=true;return AMsymbols[l]}w=q.charAt(h);AMseparated=AMseparated&&("a">w||w>"z");if(AMseparated){return AMsymbols[l]}}else{return AMsymbols[l]}}f=1;w=q.slice(0,1);var r=true;var s=true;if(w=="-"){r=false;w=q.slice(f,f+1);f++}while("0"<=w&&w<="9"&&f<=q.length){w=q.slice(f,f+1);f++}if(w=="."){s=false;w=q.slice(f,f+1);f++;while("0"<=w&&w<="9"&&f<=q.length){w=q.slice(f,f+1);f++}}if((r&&s&&f>1)||((r||s)&&f>2)||f>3){w=q.slice(0,f-1);v="mn";AMseparated=true}else{f=2;w=q.slice(0,1);AMseparated=("A">w||w>"Z")&&("a">w||w>"z");v=(AMseparated?"mo":"mi");AMseparated=AMseparated||q.charAt(1)<"a"||q.charAt(1)>"z"}return{input:q.slice(0,f-1),tag:v,output:w,ttype:CONST}}function AMremoveBrackets(g){var f;if(g.nodeName=="mrow"){f=g.firstChild.firstChild.nodeValue;if(f=="("||f=="["||f=="{"){g.removeChild(g.firstChild)}}if(g.nodeName=="mrow"){f=g.lastChild.firstChild.nodeValue;if(f==")"||f=="]"||f=="}"){g.removeChild(g.lastChild)}}}var AMnestingDepth;function AMparseSexpr(o){var h,g,s,l,r,m=document.createDocumentFragment();o=AMremoveCharsAndBlanks(o,0);h=AMgetSymbol(o);if(h==null||h.ttype==RIGHTBRACKET&&AMnestingDepth>0){return[null,o]}if(h.ttype==DEFINITION){o=h.output+AMremoveCharsAndBlanks(o,h.input.length);h=AMgetSymbol(o)}switch(h.ttype){case UNDEROVER:case CONST:o=AMremoveCharsAndBlanks(o,h.input.length);if(h.tag=="mn"&&h.output.charAt(0)=="-"){g=AMcreateMmlNode("mo",document.createTextNode("-"));g=AMcreateMmlNode("mrow",g);g.appendChild(AMcreateMmlNode(h.tag,document.createTextNode(h.output.slice(1))));return[g,o]}else{return[AMcreateMmlNode(h.tag,document.createTextNode(h.output)),o]}case LEFTBRACKET:AMnestingDepth++;o=AMremoveCharsAndBlanks(o,h.input.length);s=AMparseExpr(o);if(typeof h.invisible=="boolean"&&h.invisible){g=AMcreateMmlNode("mrow",s[0])}else{g=AMcreateMmlNode("mo",document.createTextNode(h.output));g=AMcreateMmlNode("mrow",g);g.appendChild(s[0])}return[g,s[1]];case UNARY:if(h==AMtext||h==AMmbox||h==AMquote){if(h!=AMquote){o=AMremoveCharsAndBlanks(o,h.input.length)}if(o.charAt(0)=="{"){l=o.indexOf("}")}else{if(o.charAt(0)=="("){l=o.indexOf(")")}else{if(o.charAt(0)=="["){l=o.indexOf("]")}else{if(h==AMquote){l=o.slice(1).indexOf('"')+1}else{l=0}}}}if(l==-1){l=o.length}r=o.slice(1,l);if(r.charAt(0)==" "){g=AMcreateElementMathML("mspace");g.setAttribute("width","1ex");m.appendChild(g)}m.appendChild(AMcreateMmlNode(h.tag,document.createTextNode(r)));if(r.charAt(r.length-1)==" "){g=AMcreateElementMathML("mspace");g.setAttribute("width","1ex");m.appendChild(g)}o=AMremoveCharsAndBlanks(o,l+1);return[AMcreateMmlNode("mrow",m),o]}else{o=AMremoveCharsAndBlanks(o,h.input.length);s=AMparseSexpr(o);if(s[0]==null){return[AMcreateMmlNode("mo",document.createTextNode(h.input)),o]}AMremoveBrackets(s[0]);if(h==AMsqrt){return[AMcreateMmlNode(h.tag,s[0]),s[1]]}else{if(typeof h.acc=="boolean"&&h.acc){g=AMcreateMmlNode(h.tag,s[0]);g.appendChild(AMcreateMmlNode("mo",document.createTextNode(h.output)));return[g,s[1]]}else{if(!isIE&&typeof h.codes!="undefined"){for(l=0;l<s[0].childNodes.length;l++){if(s[0].childNodes[l].nodeName=="mi"||s[0].nodeName=="mi"){r=(s[0].nodeName=="mi"?s[0].firstChild.nodeValue:s[0].childNodes[l].firstChild.nodeValue);var q=[];for(var k=0;k<r.length;k++){if(r.charCodeAt(k)>64&&r.charCodeAt(k)<91){q=q+String.fromCharCode(h.codes[r.charCodeAt(k)-65])}else{q=q+r.charAt(k)}}if(s[0].nodeName=="mi"){s[0]=AMcreateElementMathML("mo").appendChild(document.createTextNode(q))}else{s[0].replaceChild(AMcreateElementMathML("mo").appendChild(document.createTextNode(q)),s[0].childNodes[l])}}}}g=AMcreateMmlNode(h.tag,s[0]);g.setAttribute(h.atname,h.atval);return[g,s[1]]}}}case BINARY:o=AMremoveCharsAndBlanks(o,h.input.length);s=AMparseSexpr(o);if(s[0]==null){return[AMcreateMmlNode("mo",document.createTextNode(h.input)),o]}AMremoveBrackets(s[0]);var f=AMparseSexpr(s[1]);if(f[0]==null){return[AMcreateMmlNode("mo",document.createTextNode(h.input)),o]}AMremoveBrackets(f[0]);if(h==AMroot||h==AMover){m.appendChild(f[0])}m.appendChild(s[0]);if(h==AMfrac){m.appendChild(f[0])}return[AMcreateMmlNode(h.tag,m),f[1]];case INFIX:o=AMremoveCharsAndBlanks(o,h.input.length);return[AMcreateMmlNode("mo",document.createTextNode(h.output)),o];case SPACE:o=AMremoveCharsAndBlanks(o,h.input.length);g=AMcreateElementMathML("mspace");g.setAttribute("width","1ex");m.appendChild(g);m.appendChild(AMcreateMmlNode(h.tag,document.createTextNode(h.output)));g=AMcreateElementMathML("mspace");g.setAttribute("width","1ex");m.appendChild(g);return[AMcreateMmlNode("mrow",m),o];default:o=AMremoveCharsAndBlanks(o,h.input.length);return[AMcreateMmlNode(h.tag,document.createTextNode(h.output)),o]}}function AMparseExpr(w){var E,h,g,z,r,H,B,L=[],s=document.createDocumentFragment();do{w=AMremoveCharsAndBlanks(w,0);h=AMgetSymbol(w);r=AMparseSexpr(w);z=r[0];w=r[1];E=AMgetSymbol(w);if(E.ttype==INFIX){w=AMremoveCharsAndBlanks(w,E.input.length);r=AMparseSexpr(w);if(r[0]==null){r[0]=AMcreateMmlNode("mo",document.createTextNode("\u25A1"))}else{AMremoveBrackets(r[0])}w=r[1];if(E==AMdiv){AMremoveBrackets(z)}if(E==AMsub){g=AMgetSymbol(w);B=(h.ttype==UNDEROVER);if(g==AMsup){w=AMremoveCharsAndBlanks(w,g.input.length);var M=AMparseSexpr(w);AMremoveBrackets(M[0]);w=M[1];z=AMcreateMmlNode((B?"munderover":"msubsup"),z);z.appendChild(r[0]);z.appendChild(M[0]);z=AMcreateMmlNode("mrow",z)}else{z=AMcreateMmlNode((B?"munder":"msub"),z);z.appendChild(r[0])}}else{z=AMcreateMmlNode(E.tag,z);z.appendChild(r[0])}s.appendChild(z)}else{if(z!=undefined){s.appendChild(z)}}}while((E.ttype!=RIGHTBRACKET||AMnestingDepth==0)&&E!=null&&E.output!="");if(E.ttype==RIGHTBRACKET){if(AMnestingDepth>0){AMnestingDepth--}var I=s.childNodes.length;if(I>0&&s.childNodes[I-1].nodeName=="mrow"&&I>1&&s.childNodes[I-2].nodeName=="mo"&&s.childNodes[I-2].firstChild.nodeValue==","){var K=s.childNodes[I-1].lastChild.firstChild.nodeValue;if(K==")"||K=="]"){var l=s.childNodes[I-1].firstChild.firstChild.nodeValue;if(l=="("&&K==")"&&E.output!="}"||l=="["&&K=="]"){var o=[];var G=true;var A=s.childNodes.length;for(H=0;G&&H<A;H=H+2){o[H]=[];z=s.childNodes[H];if(G){G=z.nodeName=="mrow"&&(H==A-1||z.nextSibling.nodeName=="mo"&&z.nextSibling.firstChild.nodeValue==",")&&z.firstChild.firstChild.nodeValue==l&&z.lastChild.firstChild.nodeValue==K}if(G){for(var F=0;F<z.childNodes.length;F++){if(z.childNodes[F].firstChild.nodeValue==","){o[H][o[H].length]=F}}}if(G&&H>1){G=o[H].length==o[H-2].length}}if(G){var q,f,v,D,J=document.createDocumentFragment();for(H=0;H<A;H=H+2){q=document.createDocumentFragment();f=document.createDocumentFragment();z=s.firstChild;v=z.childNodes.length;D=0;z.removeChild(z.firstChild);for(F=1;F<v-1;F++){if(typeof o[H][D]!="undefined"&&F==o[H][D]){z.removeChild(z.firstChild);q.appendChild(AMcreateMmlNode("mtd",f));D++}else{f.appendChild(z.firstChild)}}q.appendChild(AMcreateMmlNode("mtd",f));if(s.childNodes.length>2){s.removeChild(s.firstChild);s.removeChild(s.firstChild)}J.appendChild(AMcreateMmlNode("mtr",q))}z=AMcreateMmlNode("mtable",J);if(typeof E.invisible=="boolean"&&E.invisible){z.setAttribute("columnalign","left")}s.replaceChild(z,s.firstChild)}}}}w=AMremoveCharsAndBlanks(w,E.input.length);if(typeof E.invisible!="boolean"||!E.invisible){z=AMcreateMmlNode("mo",document.createTextNode(E.output));s.appendChild(z)}}return[s,w]}function AMparseMath(j){var f,h=AMcreateElementMathML("mstyle");if(mathcolor!=""){h.setAttribute("mathcolor",mathcolor)}if(displaystyle){h.setAttribute("displaystyle","true")}if(mathfontfamily!=""){h.setAttribute("fontfamily",mathfontfamily)}AMnestingDepth=0;h.appendChild(AMparseExpr(j.replace(/^\s+/g,""))[0]);h=AMcreateMmlNode("math",h);if(mathfontfamily!=""){var g=AMcreateElementXHTML("font");g.setAttribute("face",mathfontfamily);g.appendChild(h);return g}return h}function AMstrarr2docFrag(f,k){var o=document.createDocumentFragment();var m=false;for(var l=0;l<f.length;l++){if(m){o.appendChild(AMparseMath(f[l]))}else{var g=(k?f[l].split("\n\n"):[f[l]]);o.appendChild(AMcreateElementXHTML("span").appendChild(document.createTextNode(g[0].replace(/AMescape2/g,AMdelimiter2).replace(/AMescape1/g,AMdelimiter1))));for(var h=1;h<g.length;h++){o.appendChild(AMcreateElementXHTML("p"));o.appendChild(AMcreateElementXHTML("span").appendChild(document.createTextNode(g[h].replace(/AMescape2/g,AMdelimiter2).replace(/AMescape1/g,AMdelimiter1))))}}m=!m}return o}function AMprocessNode(m,g){var j,l,f;if(m.childNodes.length==0&&(m.nodeType!=8||g)&&m.parentNode.nodeName!="textarea"&&m.parentNode.nodeName!="TEXTAREA"&&m.parentNode.nodeName!="pre"&&m.parentNode.nodeName!="PRE"&&m.parentNode.nodeName!="script"&&m.parentNode.nodeName!="SCRIPT"){l=m.nodeValue;if(!(l==null)){l=l.replace(/\r\n\r\n/g,"\n\n");if(doubleblankmathdelimiter){l=l.replace(/\x20\x20\./g," "+AMdelimiter1+".");l=l.replace(/\x20\x20,/g," "+AMdelimiter1+",");l=l.replace(/\x20\x20/g," "+AMdelimiter1+" ")}l=l.replace(/\x20+/g," ");l=l.replace(/\s*\r\n/g," ");j=false;l=l.replace(new RegExp(AMescape2,"g"),function(o){j=true;return"AMescape2"});l=l.replace(new RegExp(AMescape1,"g"),function(o){j=true;return"AMescape1"});l=l.replace(new RegExp(AMdelimiter2regexp,"g"),AMdelimiter1);f=l.split(AMdelimiter1);if(f.length>1||j){if(checkForMathML){checkForMathML=false;var k=AMisMathMLavailable();AMnoMathML=k!=null;if(AMnoMathML&&notifyIfNoMathML){AMbody.insertBefore(k,AMbody.childNodes[0])}}if(!AMnoMathML){m.parentNode.replaceChild(AMstrarr2docFrag(f,m.nodeType==8),m)}}}}else{if(m.nodeName!="math"){for(var h=0;h<m.childNodes.length;h++){AMprocessNode(m.childNodes[h],g)}}}}var AMbody;var AMnoMathML=false;function translate(){AMinitSymbols();AMbody=document.getElementsByTagName("body")[0];AMprocessNode(AMbody,false);if(isIE){var g=document.getElementsByTagName("math");for(var f=0;f<g.length;f++){if(g[f].update){g[f].update()}}}}var xunitlength=20;var yunitlength=20;var origin=[0,0];var defaultwidth=300;defaultheight=200;defaultborder=0;var border=defaultborder;var strokewidth,strokedasharray,stroke,fill;var fontstyle,fontfamily,fontsize,fontweight,fontstroke,fontfill;var markerstrokewidth="1";var markerstroke="black";var markerfill="yellow";var markersize=4;var marker="none";var arrowfill=stroke;var dotradius=4;var ticklength=4;var axesstroke="black";var gridstroke="grey";var pointerpos=null;var coordinates=null;var above="above";var below="below";var left="left";var right="right";var aboveleft="aboveleft";var aboveright="aboveright";var belowleft="belowleft";var belowright="belowright";var cpi="\u03C0",ctheta="\u03B8";var pi=Math.PI,ln=Math.log,e=Math.E;var arcsin=Math.asin,arccos=Math.acos,arctan=Math.atan;var sec=function(f){return 1/Math.cos(f)};var csc=function(f){return 1/Math.sin(f)};var cot=function(f){return 1/Math.tan(f)};var xmin,xmax,ymin,ymax,xscl,yscl,xgrid,ygrid,xtick,ytick,initialized;var picture,svgpicture,doc,width,height,a,b,c,d,i,n,p,t,x,y;var paper;var arcsec=function(f){return arccos(1/f)};var arccsc=function(f){return arcsin(1/f)};var arccot=function(f){return arctan(1/f)};var sinh=function(f){return(Math.exp(f)-Math.exp(-f))/2};var cosh=function(f){return(Math.exp(f)+Math.exp(-f))/2};var tanh=function(f){return(Math.exp(f)-Math.exp(-f))/(Math.exp(f)+Math.exp(-f))};var sech=function(f){return 1/cosh(f)};var csch=function(f){return 1/sinh(f)};var coth=function(f){return 1/tanh(f)};var arcsinh=function(f){return ln(f+Math.sqrt(f*f+1))};var arccosh=function(f){return ln(f+Math.sqrt(f*f-1))};var arctanh=function(f){return ln((1+f)/(1-f))/2};var sech=function(f){return 1/cosh(f)};var csch=function(f){return 1/sinh(f)};var coth=function(f){return 1/tanh(f)};var arcsech=function(f){return arccosh(1/f)};var arccsch=function(f){return arcsinh(1/f)};var arccoth=function(f){return arctanh(1/f)};var sign=function(f){return(f==0?0:(f<0?-1:1))};var svgNodes={};function factorial(f,h){if(h==null){h=1}for(var g=f-h;g>0;g-=h){f*=g}return(f<0?NaN:(f==0?1:f))}function C(f,g){var j=1;for(var h=0;h<g;h++){j*=(f-h)/(g-h)}return j}function chop(f,g){if(g==null){g=0}return Math.floor(f*Math.pow(10,g))/Math.pow(10,g)}function ran(g,f,h){if(h==null){h=0}return chop((f+Math.pow(10,-h)-g)*Math.random()+g,h)}function less(f,g){return f<g}function setText(f,h){var g=document.getElementById(h);if(g!=null){if(g.childNodes.length!=0){g.childNodes[0].nodeValue=f}else{g.appendChild(document.createTextNode(f))}}}function setBorder(f){border=f}function initPaper(h,g,f){paper=h;width=g;height=f}function initPicture(k,j,g,f){if(!initialized){strokewidth="1";strokedasharray=null;stroke="black";fill="none";fontstyle="italic";fontfamily="times";fontsize="16";fontweight="normal";fontstroke="none";fontfill="none";marker="none";initialized=true;if(k!=null){xmin=k}if(j!=null){xmax=j}if(g!=null){ymin=g}if(f!=null){ymax=f}if(xmin==null){xmin=-5}if(xmax==null){xmax=5}if(typeof xmin!="number"||typeof xmax!="number"||xmin>=xmax){alert("Picture requires at least two numbers: xmin < xmax")}else{if(f!=null&&(typeof g!="number"||typeof f!="number"||g>=f)){alert("initPicture(xmin,xmax,ymin,ymax) requires numbers ymin < ymax")}else{xunitlength=(width-2*border)/(xmax-xmin);yunitlength=xunitlength;if(ymin==null){origin=[-xmin*xunitlength+border,height/2];ymin=-(height-2*border)/(2*yunitlength);ymax=-ymin}else{if(ymax!=null){yunitlength=(height-2*border)/(ymax-ymin)}else{ymax=(height-2*border)/yunitlength+ymin}origin=[-xmin*xunitlength+border,-ymin*yunitlength+border]}var h=paper.rect(0,0,width,height);h.attr({"stroke-width":1,fill:"white"});border=defaultborder}}}}function line(h,g,j){var f;if(j!=null){f=svgNodes[j]}if(f==null){f=paper.path();svgNodes[j]=f}f.attr({path:"M"+(h[0]*xunitlength+origin[0])+","+(height-h[1]*yunitlength-origin[1])+" "+(g[0]*xunitlength+origin[0])+","+(height-g[1]*yunitlength-origin[1]),"stroke-width":strokewidth,stroke:stroke,fill:(fill!="none"?fill:null)});if(strokedasharray!=null){f.attr("stroke-dasharray",strokedasharray)}if(marker=="dot"||marker=="arrowdot"){ASdot(h,markersize,markerstroke,markerfill);if(marker=="arrowdot"){arrowhead(h,g)}ASdot(g,markersize,markerstroke,markerfill)}else{if(marker=="arrow"){arrowhead(h,g)}}}function path(j,l,k){if(k==null){k=""}var h,f,g;if(l!=null){h=svgNodes[l]}if(typeof h=="undefined"||h==null){h=paper.path();svgNodes[l]=h}if(typeof j=="string"){f=j}else{f="M";f+=(j[0][0]*xunitlength+origin[0])+","+(height-j[0][1]*yunitlength-origin[1])+" "+k;for(g=1;g<j.length;g++){f+=(j[g][0]*xunitlength+origin[0])+","+(height-j[g][1]*yunitlength-origin[1])+" "}}h.attr("path",f);h.attr("stroke-width",strokewidth);if(strokedasharray!=null){h.attr("stroke-dasharray",strokedasharray)}h.attr("stroke",stroke);h.attr("fill",fill);if(marker=="dot"||marker=="arrowdot"){for(g=0;g<j.length;g++){if(k!="C"&&k!="T"||g!=1&&g!=2){ASdot(j[g],markersize,markerstroke,markerfill)}}}}function curve(f,g){path(f,g,"T")}function circle(g,f,j){var h;if(j!=null){h=svgNodes[j]}if(typeof h=="undefined"||h==null){h=paper.circle();svgNodes[j]=h}h.attr("cx",g[0]*xunitlength+origin[0]);h.attr("cy",height-g[1]*yunitlength-origin[1]);h.attr("r",f*xunitlength);h.attr("stroke-width",strokewidth);h.attr("stroke",stroke);h.attr("fill",fill)}function loop(f,g,h){if(g==null){g=[1,0]}path([f,[f[0]+g[0],f[1]+g[1]],[f[0]-g[1],f[1]+g[0]],f],h,"C");if(marker=="arrow"||marker=="arrowdot"){arrowhead([f[0]+Math.cos(1.4)*g[0]-Math.sin(1.4)*g[1],f[1]+Math.sin(1.4)*g[0]+Math.cos(1.4)*g[1]],f)}}function arc(l,g,f,k){var j,h;if(k!=null){j=svgNodes[k]}if(f==null){h=[g[0]-l[0],g[1]-l[1]];f=Math.sqrt(h[0]*h[0]+h[1]*h[1])}if(typeof j=="undefined"||j==null){j=paper.path();svgNodes[k]=j}j.attr("path","M"+(l[0]*xunitlength+origin[0])+","+(height-l[1]*yunitlength-origin[1])+" A"+f*xunitlength+","+f*yunitlength+" 0 0,0 "+(g[0]*xunitlength+origin[0])+","+(height-g[1]*yunitlength-origin[1]));j.attr("stroke-width",strokewidth);j.attr("stroke",stroke);j.attr("fill",fill);if(marker=="arrow"||marker=="arrowdot"){u=[(g[1]-l[1])/4,(l[0]-g[0])/4];h=[(g[0]-l[0])/2,(g[1]-l[1])/2];h=[l[0]+h[0]+u[0],l[1]+h[1]+u[1]]}else{h=[l[0],l[1]]}if(marker=="dot"||marker=="arrowdot"){ASdot(l,markersize,markerstroke,markerfill);if(marker=="arrowdot"){arrowhead(h,g)}ASdot(g,markersize,markerstroke,markerfill)}else{if(marker=="arrow"){arrowhead(h,g)}}}function ellipse(f,j,h,k){var g;if(k!=null){g=svgNodes[k]}if(typeof g=="undefined"||g==null){g=paper.ellipse();svgNodes[k]=g}g.attr("cx",f[0]*xunitlength+origin[0]);g.attr("cy",height-f[1]*yunitlength-origin[1]);g.attr("rx",j*xunitlength);g.attr("ry",h*yunitlength);g.attr("stroke-width",strokewidth);g.attr("stroke",stroke);g.attr("fill",fill)}function rect(k,h,l,j,g){var f;if(l!=null){f=svgNodes[l]}if(typeof f=="undefined"||f==null){f=paper.rect();svgNodes[l]=f}f.attr("x",k[0]*xunitlength+origin[0]);f.attr("y",height-h[1]*yunitlength-origin[1]);f.attr("width",(h[0]-k[0])*xunitlength);f.attr("height",(h[1]-k[1])*yunitlength);if(j!=null){f.attr("rx",j*xunitlength)}if(g!=null){f.attr("ry",g*yunitlength)}f.attr("stroke-width",strokewidth);f.attr("stroke",stroke);f.attr("fill",fill)}function text(g,m,k,f,l){var j="middle";var q=0;var o=fontsize/3;if(k!=null){if(k.slice(0,5)=="above"){o=-fontsize/2}if(k.slice(0,5)=="below"){o=fontsize-0}if(k.slice(0,5)=="right"||k.slice(5,10)=="right"){j="start";q=fontsize/2}if(k.slice(0,4)=="left"||k.slice(5,9)=="left"){j="end";q=-fontsize/2}}o-=10;var h;if(f!=null){h=svgNodes[f]}if(typeof h=="undefined"||h==null){h=paper.text();svgNodes[f]=h}h.attr("x",g[0]*xunitlength+origin[0]+q);h.attr("y",height-g[1]*yunitlength-origin[1]+o);if(paper.type=="SVG"){h.attr("font-style",(l!=null?l:fontstyle))}h.attr("text",m);h.attr("font-family",fontfamily);h.attr("font-size",fontsize);h.attr("font-weight",fontweight);h.attr("text-anchor",j);if(fontstroke!="none"){h.attr("stroke",fontstroke)}if(fontfill!="none"){h.attr("fill",fontfill)}return g}function ASdot(h,g,j,l){if(j==null){j=stroke}if(l==null){l=fill}var k=paper.circle();k.attr("cx",h[0]*xunitlength+origin[0]);k.attr("cy",height-h[1]*yunitlength-origin[1]);k.attr("r",g);k.attr("stroke-width",strokewidth);k.attr("stroke",j);k.attr("fill",l)}function dot(g,k,h,o,m){var j;var f=g[0]*xunitlength+origin[0];var l=height-g[1]*yunitlength-origin[1];if(m!=null){j=svgNodes[m]}if(k=="+"||k=="-"||k=="|"){if(typeof j=="undefined"||j==null){j=paper.path();svgNodes[m]=j}if(k=="+"){j.attr("path"," M "+(f-ticklength)+" "+l+" L "+(f+ticklength)+" "+l+" M "+f+" "+(l-ticklength)+" L "+f+" "+(l+ticklength));j.attr("stroke-width",0.5);j.attr("stroke",axesstroke)}else{if(k=="-"){j.attr("path"," M "+(f-ticklength)+" "+l+" L "+(f+ticklength)+" "+l)}else{j.attr("path"," M "+f+" "+(l-ticklength)+" L "+f+" "+(l+ticklength))}j.attr("stroke-width",strokewidth);j.attr("stroke",stroke)}}else{if(typeof j=="undefined"||j==null){j=paper.circle();svgNodes[m]=j}j.attr("cx",f);j.attr("cy",l);j.attr("r",dotradius);j.attr("stroke-width",strokewidth);j.attr("stroke",stroke);j.attr("fill",(k=="open"?"white":stroke))}if(h!=null){text(g,h,(o==null?"below":o),(m==null?m:m+"label"))}}function arrowhead(m,l){var f;var h=[m[0]*xunitlength+origin[0],height-m[1]*yunitlength-origin[1]];var g=[l[0]*xunitlength+origin[0],height-l[1]*yunitlength-origin[1]];var j=[g[0]-h[0],g[1]-h[1]];var o=Math.sqrt(j[0]*j[0]+j[1]*j[1]);if(o>1e-8){j=[j[0]/o,j[1]/o];f=[-j[1],j[0]];var k=paper.path();k.attr("path","M "+(g[0]-15*j[0]-4*f[0])+" "+(g[1]-15*j[1]-4*f[1])+" L "+(g[0]-3*j[0])+" "+(g[1]-3*j[1])+" L "+(g[0]-15*j[0]+4*f[0])+" "+(g[1]-15*j[1]+4*f[1])+" z");k.attr("stroke-width",markerstrokewidth);k.attr("stroke",stroke);k.attr("fill",stroke)}}function hopZ(g){var f=g.indexOf(".");if(f==-1){return g}for(var h=g.length-1;h>f&&g.charAt(h)=="0";h--){}if(h==f){h--}return g.slice(0,h+1)}function grid(g,f){axes(g,f,null,g,f)}function noaxes(){if(!initialized){initPicture()}}function axes(dx,dy,labels,gdx,gdy){var x,y,ldx,ldy,lx,ly,lxp,lyp,pnode,st;if(!initialized){initPicture()}if(typeof dx=="string"){labels=dx;dx=null}if(typeof dy=="string"){gdx=dy;dy=null}if(xscl!=null){dx=xscl;gdx=xscl;labels=dx}if(yscl!=null){dy=yscl;gdy=yscl}if(xtick!=null){dx=xtick}if(ytick!=null){dy=ytick}dx=(dx==null?xunitlength:dx*xunitlength);dy=(dy==null?dx:dy*yunitlength);fontsize=Math.min(dx/2,dy/2,16);ticklength=fontsize/4;if(xgrid!=null){gdx=xgrid}if(ygrid!=null){gdy=ygrid}if(gdx!=null){gdx=(typeof gdx=="string"?dx:gdx*xunitlength);gdy=(gdy==null?dy:gdy*yunitlength);pnode=paper.path();st="";for(x=origin[0];x<width;x=x+gdx){st+=" M"+x+",0 "+x+","+height}for(x=origin[0]-gdx;x>0;x=x-gdx){st+=" M"+x+",0 "+x+","+height}for(y=height-origin[1];y<height;y=y+gdy){st+=" M0,"+y+" "+width+","+y}for(y=height-origin[1]-gdy;y>0;y=y-gdy){st+=" M0,"+y+" "+width+","+y}pnode.attr("path",st);pnode.attr("stroke-width",0.5);pnode.attr("stroke",gridstroke);pnode.attr("fill",fill)}pnode=paper.path();st="M0,"+(height-origin[1])+" "+width+","+(height-origin[1])+" M"+origin[0]+",0 "+origin[0]+","+height;for(x=origin[0]+dx;x<width;x=x+dx){st+=" M"+x+","+(height-origin[1]+ticklength)+" "+x+","+(height-origin[1]-ticklength)}for(x=origin[0]-dx;x>0;x=x-dx){st+=" M"+x+","+(height-origin[1]+ticklength)+" "+x+","+(height-origin[1]-ticklength)}for(y=height-origin[1]+dy;y<height;y=y+dy){st+=" M"+(origin[0]+ticklength)+","+y+" "+(origin[0]-ticklength)+","+y}for(y=height-origin[1]-dy;y>0;y=y-dy){st+=" M"+(origin[0]+ticklength)+","+y+" "+(origin[0]-ticklength)+","+y}if(labels!=null){with(Math){ldx=dx/xunitlength;ldy=dy/yunitlength;lx=(xmin>0||xmax<0?xmin:0);ly=(ymin>0||ymax<0?ymin:0);lxp=(ly==0?"below":"above");lyp=(lx==0?"left":"right");var ddx=floor(1.1-log(ldx)/log(10))+1;var ddy=floor(1.1-log(ldy)/log(10))+1;for(x=ldx;x<=xmax;x=x+ldx){text([x,ly],chopZ(x.toFixed(ddx)),lxp)}for(x=-ldx;xmin<=x;x=x-ldx){text([x,ly],chopZ(x.toFixed(ddx)),lxp)}for(y=ldy;y<=ymax;y=y+ldy){text([lx,y],chopZ(y.toFixed(ddy)),lyp)}for(y=-ldy;ymin<=y;y=y-ldy){text([lx,y],chopZ(y.toFixed(ddy)),lyp)}}}pnode.attr("path",st);pnode.attr("stroke-width",0.5);pnode.attr("stroke",axesstroke);pnode.attr("fill",fill)}function mathjs(h){h=h.replace(/\s/g,"");if(h.indexOf("^-1")!=-1){h=h.replace(/sin\^-1/g,"arcsin");h=h.replace(/cos\^-1/g,"arccos");h=h.replace(/tan\^-1/g,"arctan");h=h.replace(/sec\^-1/g,"arcsec");h=h.replace(/csc\^-1/g,"arccsc");h=h.replace(/cot\^-1/g,"arccot");h=h.replace(/sinh\^-1/g,"arcsinh");h=h.replace(/cosh\^-1/g,"arccosh");h=h.replace(/tanh\^-1/g,"arctanh");h=h.replace(/sech\^-1/g,"arcsech");h=h.replace(/csch\^-1/g,"arccsch");h=h.replace(/coth\^-1/g,"arccoth")}h=h.replace(/^e$/g,"(E)");h=h.replace(/^e([^a-zA-Z])/g,"(E)$1");h=h.replace(/([^a-zA-Z])e([^a-zA-Z])/g,"$1(E)$2");h=h.replace(/([0-9])([\(a-zA-Z])/g,"$1*$2");h=h.replace(/\)([\(0-9a-zA-Z])/g,")*$1");var l,g,f,m,o;while((l=h.indexOf("^"))!=-1){if(l==0){return"Error: missing argument"}g=l-1;m=h.charAt(g);if(m>="0"&&m<="9"){g--;while(g>=0&&(m=h.charAt(g))>="0"&&m<="9"){g--}if(m=="."){g--;while(g>=0&&(m=h.charAt(g))>="0"&&m<="9"){g--}}}else{if(m==")"){o=1;g--;while(g>=0&&o>0){m=h.charAt(g);if(m=="("){o--}else{if(m==")"){o++}}g--}while(g>=0&&(m=h.charAt(g))>="a"&&m<="z"||m>="A"&&m<="Z"){g--}}else{if(m>="a"&&m<="z"||m>="A"&&m<="Z"){g--;while(g>=0&&(m=h.charAt(g))>="a"&&m<="z"||m>="A"&&m<="Z"){g--}}else{return"Error: incorrect syntax in "+h+" at position "+g}}}if(l==h.length-1){return"Error: missing argument"}f=l+1;m=h.charAt(f);if(m>="0"&&m<="9"||m=="-"){f++;while(f<h.length&&(m=h.charAt(f))>="0"&&m<="9"){f++}if(m=="."){f++;while(f<h.length&&(m=h.charAt(f))>="0"&&m<="9"){f++}}}else{if(m=="("){o=1;f++;while(f<h.length&&o>0){m=h.charAt(f);if(m=="("){o++}else{if(m==")"){o--}}f++}}else{if(m>="a"&&m<="z"||m>="A"&&m<="Z"){f++;while(f<h.length&&(m=h.charAt(f))>="a"&&m<="z"||m>="A"&&m<="Z"){f++}}else{return"Error: incorrect syntax in "+h+" at position "+f}}}h=h.slice(0,g+1)+"pow("+h.slice(g+1,l)+","+h.slice(l+1,f)+")"+h.slice(f)}while((l=h.indexOf("!"))!=-1){if(l==0){return"Error: missing argument"}g=l-1;m=h.charAt(g);if(m>="0"&&m<="9"){g--;while(g>=0&&(m=h.charAt(g))>="0"&&m<="9"){g--}if(m=="."){g--;while(g>=0&&(m=h.charAt(g))>="0"&&m<="9"){g--}}}else{if(m==")"){o=1;g--;while(g>=0&&o>0){m=h.charAt(g);if(m=="("){o--}else{if(m==")"){o++}}g--}while(g>=0&&(m=h.charAt(g))>="a"&&m<="z"||m>="A"&&m<="Z"){g--}}else{if(m>="a"&&m<="z"||m>="A"&&m<="Z"){g--;while(g>=0&&(m=h.charAt(g))>="a"&&m<="z"||m>="A"&&m<="Z"){g--}}else{return"Error: incorrect syntax in "+h+" at position "+g}}}h=h.slice(0,g+1)+"factorial("+h.slice(g+1,l)+")"+h.slice(l+1)}return h}function plot(fun,x_min,x_max,points,id){var pth=[];var f=function(x){return x},g=fun;var name=null;if(typeof fun=="string"){eval("g = function(x){ with(Math) return "+mathjs(fun)+" }")}else{if(typeof fun=="object"){eval("f = function(t){ with(Math) return "+mathjs(fun[0])+" }");eval("g = function(t){ with(Math) return "+mathjs(fun[1])+" }")}}if(typeof x_min=="string"){name=x_min;x_min=xmin}else{name=id}var min=(x_min==null?xmin:x_min);var max=(x_max==null?xmax:x_max);var inc=max-min-0.000001*(max-min);inc=(points==null?inc/200:inc/points);var gt;for(var t=min;t<=max;t+=inc){gt=g(t);if(!(isNaN(gt)||Math.abs(gt)=="Infinity")){pth[pth.length]=[f(t),gt]}}path(pth,name);return p}function slopefield(fun,dx,dy){var g=fun;if(typeof fun=="string"){eval("g = function(x,y){ with(Math) return "+mathjs(fun)+" }")}var gxy,x,y,u,v,dz;if(dx==null){dx=1}if(dy==null){dy=1}dz=Math.sqrt(dx*dx+dy*dy)/6;var x_min=Math.ceil(xmin/dx);var y_min=Math.ceil(ymin/dy);for(x=x_min;x<=xmax;x+=dx){for(y=y_min;y<=ymax;y+=dy){gxy=g(x,y);if(!isNaN(gxy)){if(Math.abs(gxy)=="Infinity"){u=0;v=dz}else{u=dz/Math.sqrt(1+gxy*gxy);v=gxy*u}line([x-u,y-v],[x+u,y+v])}}}}var currentexercise="";var tries=0;var correct_at_first_try=false;var perfectlycorrect=0;var answerChoices=new Array(5);var answerChoices2=new Array(5);var possibleAnswers=new Array();var possibleAnswers2=new Array();var definiteWrongAnswers=new Array();var steps_given=0;var next_step_to_write=1;var correctchoice;var correctchoice2;var selectedchoice;var selectedchoice2;var starttime=new Date();var starttimestring=date_to_string(starttime);var time;var displaygraph=false;var alreadyRedirect=0;var display_per_step=1;var timesWrong=0;var recordedProblem=0;var recordedCorrect=0;var correct=new Image();correct.src="/images/face-smiley.gif";var incorrect=new Image();incorrect.src="/images/face-sad.gif";function checkHistory(h,g,j,f){generateNewProblem(function(){g();return j()},f/2)}function generateNewProblem(g,r,q){if(!r){r=10}r=Math.floor(r);if(!q){q=""}var o=KhanAcademy.problem_number;var m=r;var A=Math.floor(o/m);var z=[];var w=[];if(A%2==1){KhanAcademy.seedRandom(B(A-1));for(var l=0;l<m;l++){z.push(h(z))}KhanAcademy.seedRandom(B(A+1));for(var l=0;l<(o%m);l++){w.push(h(w))}}KhanAcademy.seedRandom(B(A));var f=A*m;var v=[];while(f<=o){var k=v.concat(z.slice(f%m),w.slice(0,f%m));v.push(h(k));f++}function B(j){return""+q+j}function h(D){var s;var j=0;while(j<10&&$.inArray(s=g(),D)!=-1){j++}return s}}function createCookie(h,j,k){if(k){var g=new Date();g.setTime(g.getTime()+(k*24*60*60*1000));var f="; expires="+g.toGMTString()}else{var f=""}document.cookie=h+"="+j+f+"; path=/"}function readCookie(g){var j=g+"=";var f=document.cookie.split(";");for(var h=0;h<f.length;h++){var k=f[h];while(k.charAt(0)==" "){k=k.substring(1,k.length)}if(k.indexOf(j)==0){return k.substring(j.length,k.length)}}return null}function eraseCookie(f){createCookie(f,"",-1)}function equivInArray(h,f){for(var g=0;g<f.length;g++){if(mathFormat(h)==mathFormat(f[g])){return true}}return false}function addWrongChoice(f){if(mathFormat(f)!=mathFormat(correct_answer)){if(!equivInArray(f,possibleAnswers)&&!equivInArray(f,definiteWrongAnswers)){possibleAnswers.push(f)}}}function arrayEqual(g,f){for(var h=0;h<g.length&&h<f.length;h++){if(g[h]!=f[h]){return false}}return true}function arrayCopy(f){var h=new Array();for(var g=0;g<f.length;g++){h.push(f[g])}return h}function inArray(h,f){for(var g=0;g<f.length;g++){if(h==f[g]){return true}}return false}function get_random(){var f=Math.round(KhanAcademy.random()*20)-10;while(f==0){f=Math.round(KhanAcademy.random()*20)-10}return f}function randomIndices(k){var j=new Array();var g=new Array();for(var h=0;h<k;h++){j.push(h)}while(j.length>0){var m=0.99;var l=j.length-1;var f=Math.round(KhanAcademy.random()*(l+m)-m/2);g.push(j.splice(f,1)[0])}return g}function format_coefficient(f){if(f==1){return"+"}else{if(f==-1){return"-"}else{if(f>0){return("+"+f)}else{if(f<0){return(""+f)}else{return""}}}}}function format_first_coefficient(f){if(f==-1){return"-"}else{if(f==1){return""}else{return(""+f)}}}function format_constant(f){if(f>0){return("+"+f)}else{if(f<0){return(""+f)}else{return""}}}function date_to_string(f){return(""+f.getFullYear()+":"+(f.getMonth()+1)+":"+f.getDate()+":"+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds())}function date_as_string(){var f=new Date();return date_to_string(f)}function select_choice(f){selectedchoice=f}function select_choice2(f){selectedchoice2=f}function getGCD(f,h){var g;while(h!=0){g=f%h;f=h;h=g}return f}function getLCM(f,g){return(f*g/getGCD(f,g))}function format_fraction(k,j){if(j==0){return"`undefined`"}if(k==0){return"0"}var f=(k/j<0)?" - ":"";k=Math.abs(k);j=Math.abs(j);var g=getGCD(k,j);k=k/g;j=j/g;var h=f+k;if(j>1){h=h+"/"+j}return h}function format_fraction_with_sign(h,g){var f=format_fraction(h,g);if((h/g)>0){f="+"+f}return f}function format_not_reduced(g,f){if(g/f<0){return"- "+Math.abs(g)+"/"+Math.abs(f)}else{return Math.abs(g)+"/"+Math.abs(f)}}function format_not_reduced_with_sign(h,g){var f=format_not_reduced(h,g);if((h/g)>0){f="+"+f}return f}var notDoneType="";var notDoneCookie="";function record_problem(){eraseCookie(notDoneCookie);var f=new Date();time=f.getSeconds()-starttime.getSeconds()+60*(f.getMinutes()-starttime.getMinutes())+3600*(f.getHours()-starttime.getHours());if(tries==0&&steps_given==0){correct_at_first_try=true;perfectlycorrect=1;if(recordedCorrect==0){streak++;recordedCorrect=1}}else{perfectlycorrect=0;streak=0;effort=1}if(randomMode==1){effort=2*effort}effort=Math.max(effort,1)}function processReq(){recordedProblem=1;if(xmlhttp.readyState==4){if(xmlhttp.status==200){}else{}}}function check_free_answer(){if(document.answerform.answer.value==correctAnswer){document.images.feedback.src=correct.src;if(tries==0&&steps_given==0){document.getElementById("correct").value="1"}$("#check-answer-results").show()}else{tries++;document.images.feedback.src=incorrect.src;record_problem()}}var hColors=["#D9A326","#E8887D","#9CC9B7","#AE9CC9","#EAADEA","#CD8C95","#EE8262","#FBA16C","#DEB887","#CFD784"];var nColor="#777777";var curColor=getRandomInt(hColors.length);function getNextColor(){curColor=(curColor+1)%hColors.length;return hColors[curColor]}function getRandomInt(f){var g=0.9;return Math.round(KhanAcademy.random()*(f+g)-g/2)}function getRandomIntRange(h,g){var j=0.9;var f=Math.abs(g-h);return(h+Math.round(KhanAcademy.random()*(f+j)-j/2))}function randomFromArray(f){var g=getRandomIntRange(0,f.length-1);return f[g]}function check_answer(){if(selectedchoice===undefined){window.alert("Please choose your answer.");return}var f=(selectedchoice==correctchoice);handleCorrectness(f)}function check_both_answers(){if(selectedchoice===undefined||selectedchoice2===undefined){window.alert("Please choose both answers.");return}var f=(selectedchoice==correctchoice&&selectedchoice2==correctchoice2);handleCorrectness(f)}function array_sum(f){var h=0;for(var g=0;g<f.length;g++){h+=f[g]}return h}function start_random_problem(){window.location=randomProblem()}function write_step(g,f){document.write('<P><div id="step'+f+"_"+display_per_step+'" style="position:relative; visibility:hidden;"><font face="arial" size=3>'+g+"</font></div></P>")}function write_step(f){document.write('<P><div id="step'+next_step_to_write+"_"+display_per_step+'" style="position:relative; visibility:hidden;"><font face="arial" size=3>'+f+"</font></div></P>");next_step_to_write++}function write_table_step(f,h,g){document.write('<tr><td align=left class="nobr">'+get_step_part_string('<FONT class="explanation"  class="nobr">'+f+"</font>",next_step_to_write,3)+'</td><td align=right class="nobr"><nobr>'+get_step_part_string("`"+h+"`",next_step_to_write,1)+'</nobr></td><td align=left class="nobr"><nobr>'+get_step_part_string("`="+g+"`",next_step_to_write,2)+"</nobr></td></tr>");next_step_to_write++}function table_step_header(f,h,g){document.write('<center><table border=0><tr><td></td><td></td><td></td></tr><tr><td align=left class="nobr"><font face="arial" size=4>'+f+'</font></td><td align=right class="nobr"><font face="arial" size=4>`'+h+'</font></td><td align=left class="nobr"><nobr><font face="arial" size=4  class="nobr">`='+g+"`</font></nobr></td></tr>")}function table_step_footer(){document.write("</table></center>")}function get_step_part_string(h,g,f){return('<div id="step'+g+"_"+f+'" style="position:relative; visibility:hidden;"><font face="arial" size=4>'+h+"</font></div>")}function write_equation(f){document.write('<p><font face="arial" size=4><center>`'+f+"`</center></font></p>")}function write_text(f){document.write('<p><font face="arial" size=3>'+f+"</font></p>")}function equation_string(f){return('<p><font face="arial" size=4><center>`'+f+"`</center></font></p>")}function get_eq_step_string(f,g,h){return("<tr><td>"+f+"</td><td>`"+g+"="+h+"`</td></tr>")}function perfect_square_factor(h){var g=1;for(var f=1;(f<25&&f<Math.abs(h));f++){if((Math.abs(h)%(f*f))==0){g=f*f}}if(Math.abs(g)==1){return[h]}else{return[h/g,g]}}function problem_footer(){correctchoice=Math.round(KhanAcademy.random()*4.98-0.49);if(displaygraph){document.write('</td><td valign="top"><embed align="left" width=260 height=260 src="/d.svg" script=\'graph_update()\'><form name="answerform">')}else{document.write('</td><td valign="top"><form name="answerform">')}var f=randomIndices(possibleAnswers.length);var h=randomIndices(definiteWrongAnswers.length);for(var g=0;g<5;g++){if(g==correctchoice){answerChoices[g]=correct_answer}else{if(h.length>0){answerChoices[g]="`"+definiteWrongAnswers[h.pop()]+"`"}else{answerChoices[g]="`"+possibleAnswers[f.pop()]+"`"}}document.write('<br><input type="radio" name="selectAnswer" onClick="select_choice('+g+')">'+answerChoices[g]+"</input></br>")}document.write('<br><input type="button" value="Hint" onClick="give_next_step()"><input type="button" value="Check Answer" onClick="check_answer()"></br>');document.write('<br><img src="/images/blank.gif" name="feedback"><div id="nextbutton" style="position:relative; visibility:hidden;"><input type="button" value="Correct! Next Question..." onClick="new_question()"></div></br>');document.write("</form></td></tr></table>");document.answerform.reset()}function double_answer_footer(){correctchoice=Math.round(KhanAcademy.random()*4.98-0.49);correctchoice2=Math.round(KhanAcademy.random()*4.98-0.49);if(displaygraph){document.write('</td><td valign="top"><embed align"right" width=200 height=200 src="d.svg" script=\'graph_update()\'><form name="answerform">')}else{document.write('</td><td valign="top"><form name="answerform">')}document.write("<table border=0>");for(var g=0;g<5;g++){if(g==correctchoice){answerChoices[g]=correct_answer}else{var f=Math.round(KhanAcademy.random()*(possibleAnswers.length-0.02)-0.49);var h=possibleAnswers.splice(f,1)[0];answerChoices[g]="`"+h+"`"}if(g==correctchoice2){answerChoices2[g]=correct_answer2}else{var f=Math.round(KhanAcademy.random()*(possibleAnswers2.length-0.02)-0.49);var h=possibleAnswers2.splice(f,1)[0];answerChoices2[g]="`"+h+"`"}document.write('<tr><td><input type="radio" name="selectAnswer" onClick="select_choice('+g+')">'+answerChoices[g]+'</input></td><td><input type="radio" name="selectAnswer2" onClick="select_choice2('+g+')">'+answerChoices2[g]+"</input></td></tr>")}document.write("</table>");document.write('<br><input type="button" value="Hint" onClick="give_next_step()"><input type="button" value="Check Answer" onClick="check_both_answers()"></br>');document.write('<br><img src="/images/blank.gif" name="feedback"><div id="nextbutton" style="position:relative; visibility:hidden;"><input type="button" value="Correct! Next Question..." onClick="new_question()"></div></P>');document.write("</form></td></tr></table>");document.answerform.reset()}function checkAnswerWithReturn(f){if(f&&f.which==13){check_free_answer()}else{return true}}function free_answer_footer(){document.write('</td><td valign="top"><form name="answerform">');document.write('<br>Answer:<input type="text" size=10 id="answer" name="answer"></br>');document.write('<br><input type="button" value="Hint"  onClick="give_next_step()">');document.write('<input type="button" value="Check Answer" onClick="check_free_answer()"></br>');document.write('<br><img src="/images/blank.gif" name="feedback"><div id="nextbutton" style="position:relative; visibility:hidden;"><input type="button" value="Correct! Next Question..." onClick="new_question()"></div></br>');document.write("</form></td></tr></table>");document.answerform.reset()}function reset_streak(){if($("#hint_used").val()!=1){fade_streaks();$.ajax({type:"POST",url:"/resetstreak",data:{key:$("#key").val()},data_type:"json"})}$("#hint_used").val("1")}function fade_streaks(){$(".unit-rating li.current-rating").animate({opacity:0},"fast");$(".unit-rating li.current-label").animate({opacity:0},"fast")}var Detector=function(){var j=document.getElementsByTagName("BODY")[0];var l=document.createElement("DIV");var g=document.createElement("SPAN");l.appendChild(g);l.style.fontFamily="sans";g.style.fontFamily="sans";g.style.fontSize="72px";g.innerHTML="mmmmmmmmmmlil";j.appendChild(l);var o=g.offsetWidth;var k=g.offsetHeight;j.removeChild(l);function f(h){j.appendChild(l);var q=[];q[0]=g.style.fontFamily=h;q[1]=g.offsetWidth;q[2]=g.offsetHeight;j.removeChild(l);h=h.toLowerCase();if(h=="serif"){q[3]=true}else{q[3]=(q[1]!=o||q[2]!=k)}return q}function m(h){var q=f(h);return q[3]}this.detailedTest=f;this.test=m};var toDraw={};var randInt=getRandomIntRange(5,9);var drawFunction=null;var color1=getNextColor();var color2=getNextColor();var color3=getNextColor();var pointRegister=new Array();var angleRegister=new Array();var graphicalHints=new Array();var initialObjectsToDraw=new Array();var sqr2div2=Math.sqrt(2)/2;var defaultColor="black";function colorString(g,f){return'<font color="'+f+'">'+g+"</font>"}hColors=["#D9A326","#E8887D","#9CC9B7","#AE9CC9","#EAADEA","#CD8C95","#CFD784"];function getSlope(g,f){if(f.x==g.x){return null}else{return(f.y-g.y)/(f.x-g.x)}}function getDistance(g,f){return(Math.sqrt(Math.pow(g.y-f.y,2)+Math.pow(g.x-f.x,2)))}var pointLabels=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","X","Y","Z"];var nextPointIndex=getRandomIntRange(0,pointLabels.length-1);function getNextLabel(){nextPointIndex=(nextPointIndex+1)%pointLabels.length;return pointLabels[nextPointIndex]}function initPlane(){present.initPicture(-10,10,-10,10);present.fontstyle="normal";present.fontsize="10";present.stroke="#DDDDDD";present.strokewidth="2";for(var f=-10;f<11;f++){if(f!=0){present.line([f,-11],[f,11]);present.line([-11,f],[11,f]);present.text([f,0.1],f,below);present.text([0,f],f,right)}}present.axes()}function graphPoint(f,h,g){this.x=f;this.y=h;this.coor=[this.x,this.y];this.label=getNextLabel();this.handle="p_"+this.label;this.color=getNextColor();this.labelPosition=g;this.regStr=this.label;this.colorStr=colorString(this.label,this.color);this.drawInColor=function(){present.fontfill=this.color;present.text([this.x,this.y],this.label,this.labelPosition,this.handle)};this.drawInOtherColor=function(j){present.fontfill=j;present.text([this.x,this.y],this.label,this.labelPosition,this.handle)};this.draw=function(){present.fontfill=defaultColor;present.text([this.x,this.y],this.label,this.labelPosition,this.handle)};pointRegister.push(this)}function graphAngle(h,f,g){this.color=getNextColor();this.startLine=new graphLine(f,g);this.endLine=new graphLine(f,h);this.p1=h;this.p2=g;this.vertex=f;this.regStr="<B>&ang;"+h.regStr+f.regStr+g.regStr+"</B>";this.colorStr=colorString(this.regStr,this.color);this.handle="a_"+h.regStr+f.regStr+g.regStr;this.drawLinesInOtherColor=function(B,m){var o=0.15;var k=0.05;var z=new graphLine(f,g);var l=new graphLine(f,h);for(var r=0;r<B;r++){var j=o/this.endLine.getLength();var w=o/this.startLine.getLength();var A=this.vertex.x+j*(this.p1.x-this.vertex.x);var s=this.vertex.x+w*(this.p2.x-this.vertex.x);var v=this.vertex.y+j*(this.p1.y-this.vertex.y);var q=this.vertex.y+w*(this.p2.y-this.vertex.y);present.stroke=m;present.arc([s,q],[A,v],o,this.handle+r);o+=k}};this.eraseLines=function(j){for(var k=0;k<j;k++){present.line([-500,-500],[-500,-500],this.handle+k)}};this.drawLinesInColor=function(j){this.drawLinesInOtherColor(j,this.color)};this.drawLines=function(j){this.drawLinesInOtherColor(j,defaultColor)};this.draw=function(){this.eraseLines(1)};this.drawInColor=function(){this.drawLinesInColor(1)};this.drawInOtherColor=function(j){this.drawLinesInOtherColor(j)};angleRegister.push(this)}function equalAngles(h,g,f){this.angle1=h;this.angle2=g;this.lines=f;this.drawInColor=function(){this.angle1.drawLinesInColor(this.lines);this.angle2.drawLinesInColor(this.lines)};this.draw=function(){this.angle1.eraseLines(this.lines);this.angle2.eraseLines(this.lines)}}function graphRightAngle(h,f,g){this.color=getNextColor();this.startLine=new graphLine(f,g);this.endLine=new graphLine(f,h);this.p1=h;this.p2=g;this.vertex=f;this.allPoints=new Array(this.p1,this.p2,this.vertex);this.center=new graphPoint((this.p1.x+this.p2.x+this.vertex.x)/3,(this.p1.y+this.p2.y+this.vertex.y)/3);this.handle="a_"+h.regStr+f.regStr+g.regStr;this.regStr="<B>&ang;"+h.regStr+f.regStr+g.regStr+"</b>";this.colorStr=colorString(this.regStr,this.color);this.drawInOtherColor=function(r){var s=0.1;var D=new graphLine(f,g);var q=new graphLine(f,h);var o=s/q.getLength();var E=s/D.getLength();var m=o*(this.p1.x-this.vertex.x);var l=E*(this.p2.x-this.vertex.x);var k=o*(this.p1.y-this.vertex.y);var j=E*(this.p2.y-this.vertex.y);var F=this.vertex.x+m;var w=this.vertex.x+l;var B=this.vertex.y+k;var v=this.vertex.y+j;var A=this.vertex.x+(m+l);var z=this.vertex.y+(k+j);present.stroke=r;present.path([[F,B],[A,z],[w,v]])};this.drawInColor=function(){this.drawInOtherColor(this.color)};this.draw=function(){this.drawInOtherColor(defaultColor)};this.rotate=function(m,o){var s=o*Math.PI/180;for(var q=0;q<this.allPoints.length;q++){var r=this.allPoints[q];var j=r.labelPosition;r.labelPosition=posArray[($.inArray(j,posArray)+Math.floor(o/45))%posArray.length];var l=getDistance(m,r);var w=Math.atan2(r.y-m.y,r.x-m.x);var v=w+s;r.x=l*Math.cos(v);r.y=l*Math.sin(v);r.coor=[r.x,r.y]}this.center.x=(this.left.x+this.top.x+this.right.x)/3;this.center.y=(this.left.y+this.top.y+this.right.y)/3;this.center.coor=[this.center.x,this.center.y]};this.scale=function(o){for(var l=0;l<this.allPoints.length;l++){var j=this.allPoints[l];var r=getDistance(this.center,j);var q=Math.atan2(j.y-this.center.y,j.x-this.center.x);var m=r*o;j.x=m*Math.cos(q);j.y=m*Math.sin(q);j.coor=[j.x,j.y]}};this.shift=function(o,m){for(var l=0;l<this.allPoints.length;l++){var j=this.allPoints[l];j.x+=o;j.y+=m;j.coor=[j.x,j.y]}this.center.x+=o;this.center.y+=m;this.center.coor=[this.center.x,this.center.y]}}function noLabelLine(g,f){this.line=new graphLine(g,f);this.drawInOtherColor=function(h){present.stroke=h;present.line(this.line.start.coor,this.line.end.coor,this.line.handle)};this.drawInColor=function(){this.drawInOtherColor(this.line.color)};this.draw=function(){this.drawInOtherColor(defaultColor)}}function congruentLabel(g,f,h){this.labels1=g.getCrossLines(h);this.labels2=f.getCrossLines(h);this.color=getNextColor();this.drawInColor=function(){for(var j=0;j<this.labels1.length;j++){this.labels1[j].drawInOtherColor(this.color)}for(var j=0;j<this.labels2.length;j++){this.labels2[j].drawInOtherColor(this.color)}};this.draw=function(){for(var j=0;j<this.labels1.length;j++){this.labels1[j].draw()}for(var j=0;j<this.labels2.length;j++){this.labels2[j].draw()}}}function graphLine(j,g){this.start=j;this.end=g;this.handle="l_"+j.label+"_"+g.label;this.color=getNextColor();this.regStr="<b>"+overline(this.start.regStr+this.end.regStr)+"</b>";this.colorStr=colorString(this.regStr,this.color);var h=0.04;var f=0.04;this.getCrossLineGivenPoint=function(k,r){var m=new graphPoint(k,r-f,above);var l=new graphPoint(k,r+f,above);var o=this.perpendicularSlope();if(o!=null){var q=f/Math.sqrt(1+Math.pow(o,2));m=new graphPoint(k-q,r-q*o,above);l=new graphPoint(k+q,r+q*o,above)}return(new noLabelLine(m,l))};this.getCrossLines=function(o){var z=(j.x+g.x)/2;var w=(j.y+g.y)/2;var s=new Array();var m=this.getLength();var A=h/m;var v=0.5-A*(o-1)/2;if(o%2==0){v+=A/2}var r=v;for(var q=0;q<o;q++){var l=r*this.start.x+(1-r)*this.end.x;var k=r*this.start.y+(1-r)*this.end.y;s.push(this.getCrossLineGivenPoint(l,k));r+=A}return s};this.getCrossLine=function(){var l=(this.start.x+this.end.x)/2;var k=(this.start.y+this.end.y)/2;return this.getCrossLineGivenPoint(l,k)};this.drawInColor=function(){j.drawInOtherColor(this.color);g.drawInOtherColor(this.color);present.stroke=this.color;present.line(this.start.coor,this.end.coor,this.handle)};this.drawInOtherColor=function(k){j.drawInOtherColor(k);g.drawInOtherColor(k);present.stroke=k;present.line(this.start.coor,this.end.coor,this.handle)};this.draw=function(){j.draw();g.draw();present.stroke=defaultColor;present.line(this.start.coor,this.end.coor,this.handle)};this.getLength=function(){return Math.sqrt(Math.pow(this.start.x-this.end.x,2)+Math.pow(this.start.y-this.end.y,2))};this.perpendicularSlope=function(){if(this.end.y==this.start.y){return null}else{return(this.start.x-this.end.x)/(this.end.y-this.start.y)}};this.getSlope=function(){if(this.end.x==this.start.x){return null}else{return(this.end.y-this.start.y)/(this.end.x-this.start.x)}}}function graphCircle(g,f){this.center=g;this.radius=f;this.handle=this.center.handle+this.radius.handle;this.color=getNextColor();this.regStr="<B>the circle centered at point "+this.center.regStr+" with radius "+this.radius.regStr+"</B>";this.colorStr=colorString(this.regStr,this.color);this.drawInColor=function(){present.stroke=this.color;present.circle(this.center.coor,this.radius.getLength(),this.handle)};this.drawInOtherColor=function(h){present.stroke=h;present.circle(this.center.coor,this.radius.getLength(),this.handle)};this.draw=function(){present.stroke=defaultColor;present.circle(this.center.coor,this.radius.getLength(),this.handle)}}function graphRectangle(j,h,g,f){this.topLeft=j;this.topRight=h;this.bottomRight=g;this.bottomLeft=botomLeft;this.top=new graphLine(this.topLeft,this.topRight);this.right=new graphLine(this.topRight,this.bottomRight);this.bottom=new graphLine(this.bottomRight,this.bottomLeft);this.left=new graphLine(this.bottomLeft,this.topLeft);this.color=getNextColor();this.regStr="<b>rectangle "+this.topLeft.regStr+this.topRight.regStr+this.bottomRight.regStr+this.bottomLeft.regStr+"</b>";this.colorStr=colorString(this.regStr,this.color);this.drawInColor=function(){this.top.drawInOtherColor(this.color);this.right.drawInOtherColor(this.color);this.bottom.drawInOtherColor(this.color);this.left.drawInOtherColor(this.color)};this.drawInOtherColor=function(k){this.top.drawInOtherColor(k);this.right.drawInOtherColor(k);this.bottom.drawInOtherColor(k);this.left.drawInOtherColor(k)};this.draw=function(){this.top.draw();this.right.draw();this.bottom.draw();this.left.draw()}}function graphPolygon(f){this.color=getNextColor();this.vertices=f;this.sides=[];for(var g=0;g<f.length;g++){this.sides.push(new noLabelLine(this.vertices[g],this.vertices[(g+1)%f.length]))}this.drawInColor=function(){this.drawInOtherColor(this.color)};this.drawInOtherColor=function(h){for(var j=0;j<this.sides.length;j++){this.sides[j].drawInOtherColor(h)}};this.draw=function(){for(var h=0;h<this.sides.length;h++){this.sides[h].draw()}}}function graphTriangle(j,h,g){this.left=j;this.top=h;this.right=g;this.center=new graphPoint((this.left.x+this.top.x+this.right.x)/3,(this.left.y+this.top.y+this.right.y)/3);this.allPoints=new Array(this.left,this.top,this.right);this.leftSide=new graphLine(this.left,this.top);this.rightSide=new graphLine(this.top,this.right);this.bottomSide=new graphLine(this.right,this.left);this.rightSide.oppAngle=new graphAngle(this.top,this.left,this.right);this.leftSide.oppAngle=new graphAngle(this.left,this.right,this.top);this.bottomSide.oppAngle=new graphAngle(this.right,this.top,this.left);this.sides=[this.rightSide,this.leftSide,this.bottomSide];this.color=getNextColor();this.regStr="<b>triangle "+this.left.regStr+this.top.regStr+this.right.regStr+"</b>";this.colorStr=colorString(this.regStr,this.color);this.rotate=function(o,q){var v=q*Math.PI/180;for(var r=0;r<this.allPoints.length;r++){var s=this.allPoints[r];var l=s.labelPosition;s.labelPosition=posArray[($.inArray(l,posArray)+Math.floor(q/45))%posArray.length];var m=getDistance(o,s);var z=Math.atan2(s.y-o.y,s.x-o.x);var w=z+v;s.x=m*Math.cos(w);s.y=m*Math.sin(w);s.coor=[s.x,s.y]}this.center.x=(this.left.x+this.top.x+this.right.x)/3;this.center.y=(this.left.y+this.top.y+this.right.y)/3;this.center.coor=[this.center.x,this.center.y]};this.scale=function(q){for(var m=0;m<this.allPoints.length;m++){var l=this.allPoints[m];var s=getDistance(this.center,l);var r=Math.atan2(l.y-this.center.y,l.x-this.center.x);var o=s*q;l.x=o*Math.cos(r);l.y=o*Math.sin(r);l.coor=[l.x,l.y]}};this.shift=function(q,o){for(var m=0;m<this.allPoints.length;m++){var l=this.allPoints[m];l.x+=q;l.y+=o;l.coor=[l.x,l.y]}this.center.x+=q;this.center.y+=o;this.center.coor=[this.center.x,this.center.y]};this.drawInColor=function(){this.leftSide.drawInOtherColor(this.color);this.rightSide.drawInOtherColor(this.color);this.bottomSide.drawInOtherColor(this.color)};this.drawInOtherColor=function(k){this.leftSide.drawInOtherColor(k);this.rightSide.drawInOtherColor(k);this.bottomSide.drawInOtherColor(k)};this.draw=function(){this.leftSide.draw();this.rightSide.draw();this.bottomSide.draw()};this.getAltitude=function(k){if(k=="top"){var l=f(this.top,this.left,this.right);return(new graphLine(this.top,l))}else{if(k=="left"){var l=f(this.left,this.top,this.right);l.labelPosition=aboveright;return(new graphLine(this.top,l))}else{if(k=="right"){var l=f(this.right,this.left,this.top);l.labelPosition=aboveleft;return(new graphLine(this.top,l))}}}};function f(l,w,s){var r=getSlope(w,s);var o=w.y-r*w.x;var k=-1/r;var m=l.y-k*l.x;var z=(m-o)/(r-k);var v=r*z+o;var q=new graphPoint(z,v,below);return q}}function getEquilateral(){return(new graphTriangle(new graphPoint(0,0,belowleft),new graphPoint(0.5,Math.sqrt(3)/2,above),new graphPoint(1,0,belowright)))}function getIsoscelese(){return(new graphTriangle(new graphPoint(0,0,belowleft),new graphPoint(0.5,1,above),new graphPoint(1,0,belowright)))}function get454590(){return(new graphTriangle(new graphPoint(0,0,belowleft),new graphPoint(0,1,aboveleft),new graphPoint(1,0,belowright)))}function get306090(){return(new graphTriangle(new graphPoint(0,0,belowleft),new graphPoint(0,Math.sqrt(3)/2,aboveleft),new graphPoint(0.5,0,belowright)))}function getFlipped306090(){var g=new graphTriangle(new graphPoint(-0.5,0,belowleft),new graphPoint(0,Math.sqrt(3)/2,aboveright),new graphPoint(0,0,belowright));var f=g.sides[0];g.sides[0]=g.sides[1];g.sides[1]=f;return g}function getSeparateSimilarTriangles(){var g=get306090();var f=getFlipped306090();if(getRandomIntRange(0,1)==1){f=get306090()}f.rotate(f.center,getRandomIntRange(0,359));f.scale(0.75);f.shift(-0.6,0.4);return[g,f]}function getOverlayedSimilarTriangles(){var g=new graphPoint(getRandomIntRange(-2,2)/10,1,above);var k=new graphPoint(getRandomIntRange(-6,4)/10,0,belowleft);var m=new graphPoint(getRandomIntRange(k.x+5,k.x+10)/10,0,belowright);var j=getRandomIntRange(40,60);var f=new graphPoint(j*g.x/100+(100-j)*k.x/100,j*g.y/100+(100-j)*k.y/100,left);var h=new graphPoint(j*g.x/100+(100-j)*m.x/100,j*g.y/100+(100-j)*m.y/100,right);var o=new graphTriangle(k,g,m);var l=new graphTriangle(f,g,h);return[o,l]}function getRegularPolygon(k){var f=[];var j=(Math.PI/2)+getRandomIntRange(0,1)*Math.PI/k;for(var h=0;h<k;h++){var g=j+h*Math.PI*2/k;f.push(new graphPoint(Math.cos(g),Math.sin(g),belowleft))}return new graphPolygon(f)}function overline(f){return('<font style="text-decoration: overline;">'+f+"</font>")}function writeGraphicalHint(g,f){if(f!=null){graphicalHints[next_step_to_write]=f}writeStep(g)}KhanAcademy_hint_by_id={};function hide_hints(){var h=1;while(true){var f=1;while(true){var j="step"+h+"_"+f;var g=document.getElementById(j);if(!g){break}KhanAcademy_hint_by_id[j]=g.innerHTML;g.innerHTML="";f++}if(f==1){break}h++}}function give_next_step(){var h=graphicalHints[steps_given];if(h){for(var f=0;f<h.length;f++){h[f].draw()}}steps_given++;var j=graphicalHints[steps_given];if(j){for(var f=0;f<j.length;f++){j[f].drawInColor()}}for(var g=1;g<=display_per_step;g++){show_step(g)}translate()}function show_step(f){var h="step"+steps_given+"_"+f;var g=document.getElementById(h);if(g){g.innerHTML=KhanAcademy_hint_by_id[h];g.style.visibility="visible"}}function randomRotation(){rotateGraph(getRandomIntRange(0,359))}var posArray=new Array(above,aboveleft,left,belowleft,below,belowright,right,aboveright);var flipArray={above:above,aboveleft:aboveright,left:right,belowleft:belowright,below:below,belowright:belowleft,right:left,aboveright:aboveleft};function rotateGraph(m){var B=0.25;var s=0;var r=false;if(getRandomIntRange(1,2)==2){r=true}for(var o=0;o<pointRegister.length;o++){var q=pointRegister[o];B=Math.max(B,Math.max(q.x,q.y));s=Math.min(s,Math.min(q.x,q.y))}var j=0.5*(B+s);var v=m*Math.PI/180;var z=new graphPoint(j,j,above);for(var o=0;o<pointRegister.length;o++){var q=pointRegister[o];var h=q.labelPosition;q.labelPosition=posArray[($.inArray(h,posArray)+Math.floor(m/45))%posArray.length];var l=getDistance(z,q);var A=Math.atan2(q.y-z.y,q.x-z.x);var w=A+v;q.x=l*Math.cos(w);q.y=l*Math.sin(w);if(r){q.x=-1*q.x;q.labelPosition=flipArray[q.labelPosition]}q.coor=[q.x,q.y]}if(r){for(var o=0;o<angleRegister.length;o++){var A=angleRegister[o];var g=A.startLine;A.startLine=A.endLine;A.endLine=g;var f=A.p1;A.p1=A.p2;A.p2=f}}}function initGraph(){var o=0.25;var g=0.25;var f=0;var r=0;for(var l=0;l<pointRegister.length;l++){var m=pointRegister[l];o=Math.max(o,m.x);g=Math.max(g,m.y);f=Math.min(f,m.x);r=Math.min(r,m.y)}var q=(g+r)/2;var h=(o+f)/2;if((o-f)>(g-r)){var j=0.25*(o-f);present.initPicture(f-j,o+j,q-j-(o-f)/2,q+j+(o-f)/2)}else{var j=0.25*(g-r);present.initPicture(h-j-(g-r)/2,h+j+(g-r)/2,r-j,g+j)}present.strokewidth="2";for(var l=0;l<initialObjectsToDraw.length;l++){initialObjectsToDraw[l].draw()}}function graph_update(){initGraph()}
/*
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
(function(){function aR(){if(aR.is(arguments[0],bg)){var E=arguments[0],R=O[bK](aR,E.splice(0,3+aR.is(E[0],aO))),bR=R.set();for(var bQ=0,bS=E[A];bQ<bS;bQ++){var S=E[bQ]||{};by[ap](S.type)&&bR[m](R[S.type]().attr(S))}return bR}return O[bK](aR,arguments)}aR.version="1.5.2";var f=/[, ]+/,by={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},bw=/\{(\d+)\}/g,bN="prototype",ap="hasOwnProperty",aj=document,aZ=window,z={was:Object[bN][ap].call(aZ,"Raphael"),is:aZ.Raphael},bI=function(){this.customAttributes={}},a8,bt="appendChild",bK="apply",bF="concat",af="createTouch" in aj,aY="",aQ=" ",bL=String,T="split",ab="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[T](aQ),bz={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},a5="join",A="length",bP=bL[bN].toLowerCase,ay=Math,q=ay.max,br=ay.min,aA=ay.abs,bu=ay.pow,aV=ay.PI,aO="number",ao="string",bg="array",a9="toString",bd="fill",a2=Object[bN][a9],bC={},m="push",k=/^url\(['"]?([^\)]+?)['"]?\)$/i,P=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,az={"NaN":1,"Infinity":1,"-Infinity":1},g=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,am=ay.round,N="setAttribute",at=parseFloat,ac=parseInt,be=" progid:DXImageTransform.Microsoft",bx=bL[bN].toUpperCase,w={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},aw={along:"along",blur:aO,"clip-rect":"csv",cx:aO,cy:aO,fill:"colour","fill-opacity":aO,"font-size":aO,height:aO,opacity:aO,path:"path",r:aO,rotation:"csv",rx:aO,ry:aO,scale:"csv",stroke:"colour","stroke-opacity":aO,"stroke-width":aO,translation:"csv",width:aO,x:aO,y:aO},bB="replace",bo=/^(from|to|\d+%?)$/,bm=/\s*,\s*/,r={hs:1,rg:1},bj=/,?([achlmqrstvxz]),?/gi,a0=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,aP=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,aX=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,bv=function(R,E){return R.key-E.key};aR.type=(aZ.SVGAngle||aj.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(aR.type=="VML"){var aG=aj.createElement("div"),aK;aG.innerHTML='<v:shape adj="1"/>';aK=aG.firstChild;aK.style.behavior="url(#default#VML)";if(!(aK&&typeof aK.adj=="object")){return aR.type=null}aG=null}aR.svg=!(aR.vml=aR.type=="VML");bI[bN]=aR[bN];a8=bI[bN];aR._id=0;aR._oid=0;aR.fn={};aR.is=function(R,E){E=bP.call(E);if(E=="finite"){return !az[ap](+R)}return(E=="null"&&R===null)||(E==typeof R)||(E=="object"&&R===Object(R))||(E=="array"&&Array.isArray&&Array.isArray(R))||a2.call(R).slice(8,-1).toLowerCase()==E};aR.angle=function(bR,bT,S,bS,R,bQ){if(R==null){var E=bR-S,bU=bT-bS;if(!E&&!bU){return 0}return((E<0)*180+ay.atan(-bU/-E)*180/aV+360)%360}else{return aR.angle(bR,bT,R,bQ)-aR.angle(S,bS,R,bQ)}};aR.rad=function(E){return E%360*aV/180};aR.deg=function(E){return E*180/aV%360};aR.snapTo=function(R,bQ,E){E=aR.is(E,"finite")?E:10;if(aR.is(R,bg)){var S=R.length;while(S--){if(aA(R[S]-bQ)<=E){return R[S]}}}else{R=+R;var bR=bQ%R;if(bR<E){return bQ-bR}if(bR>R-E){return bQ-bR+R}}return bQ};function l(){var R=[],E=0;for(;E<32;E++){R[E]=(~~(ay.random()*16))[a9](16)}R[12]=4;R[16]=((R[16]&3)|8)[a9](16);return"r-"+R[a5]("")}aR.setWindow=function(E){aZ=E;aj=aZ.document};var bi=function(S){if(aR.vml){var E=/^\s+|\s+$/g;var bR;try{var bS=new ActiveXObject("htmlfile");bS.write("<body>");bS.close();bR=bS.body}catch(bT){bR=createPopup().document.body}var R=bR.createTextRange();bi=aJ(function(bU){try{bR.style.color=bL(bU)[bB](E,aY);var bV=R.queryCommandValue("ForeColor");bV=((bV&255)<<16)|(bV&65280)|((bV&16711680)>>>16);return"#"+("000000"+bV[a9](16)).slice(-6)}catch(bW){return"none"}})}else{var bQ=aj.createElement("i");bQ.title="Rapha\xebl Colour Picker";bQ.style.display="none";aj.body[bt](bQ);bi=aJ(function(bU){bQ.style.color=bU;return aj.defaultView.getComputedStyle(bQ,aY).getPropertyValue("color")})}return bi(S)},aL=function(){return"hsb("+[this.h,this.s,this.b]+")"},X=function(){return"hsl("+[this.h,this.s,this.l]+")"},L=function(){return this.hex};aR.hsb2rgb=function(S,R,E,bQ){if(aR.is(S,"object")&&"h" in S&&"s" in S&&"b" in S){E=S.b;R=S.s;S=S.h;bQ=S.o}return aR.hsl2rgb(S,R,E/2,bQ)};aR.hsl2rgb=function(bS,bZ,S,R){if(aR.is(bS,"object")&&"h" in bS&&"s" in bS&&"l" in bS){S=bS.l;bZ=bS.s;bS=bS.h}if(bS>1||bZ>1||S>1){bS/=360;bZ/=100;S/=100}var bX={},bU=["r","g","b"],bT,bW,bR,E,bV,bY;if(!bZ){bX={r:S,g:S,b:S}}else{if(S<0.5){bT=S*(1+bZ)}else{bT=S+bZ-S*bZ}bW=2*S-bT;for(var bQ=0;bQ<3;bQ++){bR=bS+1/3*-(bQ-1);bR<0&&bR++;bR>1&&bR--;if(bR*6<1){bX[bU[bQ]]=bW+(bT-bW)*6*bR}else{if(bR*2<1){bX[bU[bQ]]=bT}else{if(bR*3<2){bX[bU[bQ]]=bW+(bT-bW)*(2/3-bR)*6}else{bX[bU[bQ]]=bW}}}}}bX.r*=255;bX.g*=255;bX.b*=255;bX.hex="#"+(16777216|bX.b|(bX.g<<8)|(bX.r<<16)).toString(16).slice(1);aR.is(R,"finite")&&(bX.opacity=R);bX.toString=L;return bX};aR.rgb2hsb=function(E,R,bU){if(R==null&&aR.is(E,"object")&&"r" in E&&"g" in E&&"b" in E){bU=E.b;R=E.g;E=E.r}if(R==null&&aR.is(E,ao)){var bW=aR.getRGB(E);E=bW.r;R=bW.g;bU=bW.b}if(E>1||R>1||bU>1){E/=255;R/=255;bU/=255}var bT=q(E,R,bU),S=br(E,R,bU),bR,bQ,bS=bT;if(S==bT){return{h:0,s:0,b:bT,toString:aL}}else{var bV=(bT-S);bQ=bV/bT;if(E==bT){bR=(R-bU)/bV}else{if(R==bT){bR=2+((bU-E)/bV)}else{bR=4+((E-R)/bV)}}bR/=6;bR<0&&bR++;bR>1&&bR--}return{h:bR,s:bQ,b:bS,toString:aL}};aR.rgb2hsl=function(R,S,bT){if(S==null&&aR.is(R,"object")&&"r" in R&&"g" in R&&"b" in R){bT=R.b;S=R.g;R=R.r}if(S==null&&aR.is(R,ao)){var bX=aR.getRGB(R);R=bX.r;S=bX.g;bT=bX.b}if(R>1||S>1||bT>1){R/=255;S/=255;bT/=255}var bS=q(R,S,bT),bQ=br(R,S,bT),bR,bW,E=(bS+bQ)/2,bV;if(bQ==bS){bV={h:0,s:0,l:E}}else{var bU=bS-bQ;bW=E<0.5?bU/(bS+bQ):bU/(2-bS-bQ);if(R==bS){bR=(S-bT)/bU}else{if(S==bS){bR=2+(bT-R)/bU}else{bR=4+(R-S)/bU}}bR/=6;bR<0&&bR++;bR>1&&bR--;bV={h:bR,s:bW,l:E}}bV.toString=X;return bV};aR._path2string=function(){return this.join(",")[bB](bj,"$1")};function aJ(bQ,R,E){function S(){var bR=Array[bN].slice.call(arguments,0),bT=bR[a5]("\u25ba"),bS=S.cache=S.cache||{},bU=S.count=S.count||[];if(bS[ap](bT)){return E?E(bS[bT]):bS[bT]}bU[A]>=1000&&delete bS[bU.shift()];bU[m](bT);bS[bT]=bQ[bK](R,bR);return E?E(bS[bT]):bS[bT]}return S}aR.getRGB=aJ(function(E){if(!E||!!((E=bL(E)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(E=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(r[ap](E.toLowerCase().substring(0,2))||E.charAt()=="#")&&(E=bi(E));var bR,R,S,bT,bQ,bV,bU,bS=E.match(P);if(bS){if(bS[2]){bT=ac(bS[2].substring(5),16);S=ac(bS[2].substring(3,5),16);R=ac(bS[2].substring(1,3),16)}if(bS[3]){bT=ac((bV=bS[3].charAt(3))+bV,16);S=ac((bV=bS[3].charAt(2))+bV,16);R=ac((bV=bS[3].charAt(1))+bV,16)}if(bS[4]){bU=bS[4][T](bm);R=at(bU[0]);bU[0].slice(-1)=="%"&&(R*=2.55);S=at(bU[1]);bU[1].slice(-1)=="%"&&(S*=2.55);bT=at(bU[2]);bU[2].slice(-1)=="%"&&(bT*=2.55);bS[1].toLowerCase().slice(0,4)=="rgba"&&(bQ=at(bU[3]));bU[3]&&bU[3].slice(-1)=="%"&&(bQ/=100)}if(bS[5]){bU=bS[5][T](bm);R=at(bU[0]);bU[0].slice(-1)=="%"&&(R*=2.55);S=at(bU[1]);bU[1].slice(-1)=="%"&&(S*=2.55);bT=at(bU[2]);bU[2].slice(-1)=="%"&&(bT*=2.55);(bU[0].slice(-3)=="deg"||bU[0].slice(-1)=="\xb0")&&(R/=360);bS[1].toLowerCase().slice(0,4)=="hsba"&&(bQ=at(bU[3]));bU[3]&&bU[3].slice(-1)=="%"&&(bQ/=100);return aR.hsb2rgb(R,S,bT,bQ)}if(bS[6]){bU=bS[6][T](bm);R=at(bU[0]);bU[0].slice(-1)=="%"&&(R*=2.55);S=at(bU[1]);bU[1].slice(-1)=="%"&&(S*=2.55);bT=at(bU[2]);bU[2].slice(-1)=="%"&&(bT*=2.55);(bU[0].slice(-3)=="deg"||bU[0].slice(-1)=="\xb0")&&(R/=360);bS[1].toLowerCase().slice(0,4)=="hsla"&&(bQ=at(bU[3]));bU[3]&&bU[3].slice(-1)=="%"&&(bQ/=100);return aR.hsl2rgb(R,S,bT,bQ)}bS={r:R,g:S,b:bT};bS.hex="#"+(16777216|bT|(S<<8)|(R<<16)).toString(16).slice(1);aR.is(bQ,"finite")&&(bS.opacity=bQ);return bS}return{r:-1,g:-1,b:-1,hex:"none",error:1}},aR);aR.getColor=function(R){var S=this.getColor.start=this.getColor.start||{h:0,s:1,b:R||0.75},E=this.hsb2rgb(S.h,S.s,S.b);S.h+=0.075;if(S.h>1){S.h=0;S.s-=0.2;S.s<=0&&(this.getColor.start={h:0,s:1,b:S.b})}return E.hex};aR.getColor.reset=function(){delete this.start};aR.parsePathString=aJ(function(E){if(!E){return null}var S={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},R=[];if(aR.is(E,bg)&&aR.is(E[0],bg)){R=a1(E)}if(!R[A]){bL(E)[bB](a0,function(bR,bQ,bU){var bT=[],bS=bP.call(bQ);bU[bB](aP,function(bW,bV){bV&&bT[m](+bV)});if(bS=="m"&&bT[A]>2){R[m]([bQ][bF](bT.splice(0,2)));bS="l";bQ=bQ=="m"?"l":"L"}while(bT[A]>=S[bS]){R[m]([bQ][bF](bT.splice(0,S[bS])));if(!S[bS]){break}}})}R[a9]=aR._path2string;return R});aR.findDotsAtSegment=function(R,E,b7,b5,bT,bR,bV,bU,b1){var bZ=1-b1,bY=bu(bZ,3)*R+bu(bZ,2)*3*b1*b7+bZ*3*b1*b1*bT+bu(b1,3)*bV,bW=bu(bZ,3)*E+bu(bZ,2)*3*b1*b5+bZ*3*b1*b1*bR+bu(b1,3)*bU,b3=R+2*b1*(b7-R)+b1*b1*(bT-2*b7+R),b2=E+2*b1*(b5-E)+b1*b1*(bR-2*b5+E),b6=b7+2*b1*(bT-b7)+b1*b1*(bV-2*bT+b7),b4=b5+2*b1*(bR-b5)+b1*b1*(bU-2*bR+b5),b0=(1-b1)*R+b1*b7,bX=(1-b1)*E+b1*b5,bQ=(1-b1)*bT+b1*bV,S=(1-b1)*bR+b1*bU,bS=(90-ay.atan((b3-b6)/(b2-b4))*180/aV);(b3>b6||b2<b4)&&(bS+=180);return{x:bY,y:bW,m:{x:b3,y:b2},n:{x:b6,y:b4},start:{x:b0,y:bX},end:{x:bQ,y:S},alpha:bS}};var ar=aJ(function(bX){if(!bX){return{x:0,y:0,width:0,height:0}}bX=ae(bX);var bU=0,bT=0,bQ=[],R=[],S;for(var bR=0,bW=bX[A];bR<bW;bR++){S=bX[bR];if(S[0]=="M"){bU=S[1];bT=S[2];bQ[m](bU);R[m](bT)}else{var bS=bf(bU,bT,S[1],S[2],S[3],S[4],S[5],S[6]);bQ=bQ[bF](bS.min.x,bS.max.x);R=R[bF](bS.min.y,bS.max.y);bU=S[5];bT=S[6]}}var E=br[bK](0,bQ),bV=br[bK](0,R);return{x:E,y:bV,width:q[bK](0,bQ)-E,height:q[bK](0,R)-bV}}),a1=function(bS){var S=[];if(!aR.is(bS,bg)||!aR.is(bS&&bS[0],bg)){bS=aR.parsePathString(bS)}for(var R=0,bQ=bS[A];R<bQ;R++){S[R]=[];for(var E=0,bR=bS[R][A];E<bR;E++){S[R][E]=bS[R][E]}}S[a9]=aR._path2string;return S},aD=aJ(function(bQ){if(!aR.is(bQ,bg)||!aR.is(bQ&&bQ[0],bg)){bQ=aR.parsePathString(bQ)}var bW=[],bY=0,bX=0,b1=0,b0=0,S=0;if(bQ[0][0]=="M"){bY=bQ[0][1];bX=bQ[0][2];b1=bY;b0=bX;S++;bW[m](["M",bY,bX])}for(var bT=S,b2=bQ[A];bT<b2;bT++){var E=bW[bT]=[],bZ=bQ[bT];if(bZ[0]!=bP.call(bZ[0])){E[0]=bP.call(bZ[0]);switch(E[0]){case"a":E[1]=bZ[1];E[2]=bZ[2];E[3]=bZ[3];E[4]=bZ[4];E[5]=bZ[5];E[6]=+(bZ[6]-bY).toFixed(3);E[7]=+(bZ[7]-bX).toFixed(3);break;case"v":E[1]=+(bZ[1]-bX).toFixed(3);break;case"m":b1=bZ[1];b0=bZ[2];default:for(var bS=1,bU=bZ[A];bS<bU;bS++){E[bS]=+(bZ[bS]-((bS%2)?bY:bX)).toFixed(3)}}}else{E=bW[bT]=[];if(bZ[0]=="m"){b1=bZ[1]+bY;b0=bZ[2]+bX}for(var bR=0,R=bZ[A];bR<R;bR++){bW[bT][bR]=bZ[bR]}}var bV=bW[bT][A];switch(bW[bT][0]){case"z":bY=b1;bX=b0;break;case"h":bY+=+bW[bT][bV-1];break;case"v":bX+=+bW[bT][bV-1];break;default:bY+=+bW[bT][bV-2];bX+=+bW[bT][bV-1]}}bW[a9]=aR._path2string;return bW},0,a1),I=aJ(function(bQ){if(!aR.is(bQ,bg)||!aR.is(bQ&&bQ[0],bg)){bQ=aR.parsePathString(bQ)}var bV=[],bX=0,bW=0,b0=0,bZ=0,S=0;if(bQ[0][0]=="M"){bX=+bQ[0][1];bW=+bQ[0][2];b0=bX;bZ=bW;S++;bV[0]=["M",bX,bW]}for(var bT=S,b1=bQ[A];bT<b1;bT++){var E=bV[bT]=[],bY=bQ[bT];if(bY[0]!=bx.call(bY[0])){E[0]=bx.call(bY[0]);switch(E[0]){case"A":E[1]=bY[1];E[2]=bY[2];E[3]=bY[3];E[4]=bY[4];E[5]=bY[5];E[6]=+(bY[6]+bX);E[7]=+(bY[7]+bW);break;case"V":E[1]=+bY[1]+bW;break;case"H":E[1]=+bY[1]+bX;break;case"M":b0=+bY[1]+bX;bZ=+bY[2]+bW;default:for(var bS=1,bU=bY[A];bS<bU;bS++){E[bS]=+bY[bS]+((bS%2)?bX:bW)}}}else{for(var bR=0,R=bY[A];bR<R;bR++){bV[bT][bR]=bY[bR]}}switch(E[0]){case"Z":bX=b0;bW=bZ;break;case"H":bX=E[1];break;case"V":bW=E[1];break;case"M":b0=bV[bT][bV[bT][A]-2];bZ=bV[bT][bV[bT][A]-1];default:bX=bV[bT][bV[bT][A]-2];bW=bV[bT][bV[bT][A]-1]}}bV[a9]=aR._path2string;return bV},null,a1),bM=function(R,bQ,E,S){return[R,bQ,E,S,E,S]},bs=function(R,bQ,bT,bR,E,S){var bS=1/3,bU=2/3;return[bS*R+bU*bT,bS*bQ+bU*bR,bS*E+bU*bT,bS*S+bU*bR,E,S]},ai=function(b0,cv,b9,b7,b1,bV,bQ,bZ,cu,b2){var b6=aV*120/180,E=aV/180*(+b1||0),cd=[],ca,cr=aJ(function(cx,cA,cw){var cz=cx*ay.cos(cw)-cA*ay.sin(cw),cy=cx*ay.sin(cw)+cA*ay.cos(cw);return{x:cz,y:cy}});if(!b2){ca=cr(b0,cv,-E);b0=ca.x;cv=ca.y;ca=cr(bZ,cu,-E);bZ=ca.x;cu=ca.y;var R=ay.cos(aV/180*b1),bX=ay.sin(aV/180*b1),cf=(b0-bZ)/2,ce=(cv-cu)/2;var cp=(cf*cf)/(b9*b9)+(ce*ce)/(b7*b7);if(cp>1){cp=ay.sqrt(cp);b9=cp*b9;b7=cp*b7}var S=b9*b9,ci=b7*b7,ck=(bV==bQ?-1:1)*ay.sqrt(aA((S*ci-S*ce*ce-ci*cf*cf)/(S*ce*ce+ci*cf*cf))),b4=ck*b9*ce/b7+(b0+bZ)/2,b3=ck*-b7*cf/b9+(cv+cu)/2,bU=ay.asin(((cv-b3)/b7).toFixed(9)),bT=ay.asin(((cu-b3)/b7).toFixed(9));bU=b0<b4?aV-bU:bU;bT=bZ<b4?aV-bT:bT;bU<0&&(bU=aV*2+bU);bT<0&&(bT=aV*2+bT);if(bQ&&bU>bT){bU=bU-aV*2}if(!bQ&&bT>bU){bT=bT-aV*2}}else{bU=b2[0];bT=b2[1];b4=b2[2];b3=b2[3]}var bY=bT-bU;if(aA(bY)>b6){var b5=bT,b8=bZ,bW=cu;bT=bU+b6*(bQ&&bT>bU?1:-1);bZ=b4+b9*ay.cos(bT);cu=b3+b7*ay.sin(bT);cd=ai(bZ,cu,b9,b7,b1,0,bQ,b8,bW,[bT,b5,b4,b3])}bY=bT-bU;var bS=ay.cos(bU),ct=ay.sin(bU),bR=ay.cos(bT),cs=ay.sin(bT),cg=ay.tan(bY/4),cj=4/3*b9*cg,ch=4/3*b7*cg,cq=[b0,cv],co=[b0+cj*ct,cv-ch*bS],cn=[bZ+cj*cs,cu-ch*bR],cl=[bZ,cu];co[0]=2*cq[0]-co[0];co[1]=2*cq[1]-co[1];if(b2){return[co,cn,cl][bF](cd)}else{cd=[co,cn,cl][bF](cd)[a5]()[T](",");var cb=[];for(var cm=0,cc=cd[A];cm<cc;cm++){cb[cm]=cm%2?cr(cd[cm-1],cd[cm],E).y:cr(cd[cm],cd[cm+1],E).x}return cb}},al=function(R,E,bQ,S,bV,bU,bT,bS,bW){var bR=1-bW;return{x:bu(bR,3)*R+bu(bR,2)*3*bW*bQ+bR*3*bW*bW*bV+bu(bW,3)*bT,y:bu(bR,3)*E+bu(bR,2)*3*bW*S+bR*3*bW*bW*bU+bu(bW,3)*bS}},bf=aJ(function(S,E,bR,bQ,b2,b1,bY,bV){var b0=(b2-2*bR+S)-(bY-2*b2+bR),bX=2*(bR-S)-2*(b2-bR),bU=S-bR,bT=(-bX+ay.sqrt(bX*bX-4*b0*bU))/2/b0,bS=(-bX-ay.sqrt(bX*bX-4*b0*bU))/2/b0,bW=[E,bV],bZ=[S,bY],R;aA(bT)>"1e12"&&(bT=0.5);aA(bS)>"1e12"&&(bS=0.5);if(bT>0&&bT<1){R=al(S,E,bR,bQ,b2,b1,bY,bV,bT);bZ[m](R.x);bW[m](R.y)}if(bS>0&&bS<1){R=al(S,E,bR,bQ,b2,b1,bY,bV,bS);bZ[m](R.x);bW[m](R.y)}b0=(b1-2*bQ+E)-(bV-2*b1+bQ);bX=2*(bQ-E)-2*(b1-bQ);bU=E-bQ;bT=(-bX+ay.sqrt(bX*bX-4*b0*bU))/2/b0;bS=(-bX-ay.sqrt(bX*bX-4*b0*bU))/2/b0;aA(bT)>"1e12"&&(bT=0.5);aA(bS)>"1e12"&&(bS=0.5);if(bT>0&&bT<1){R=al(S,E,bR,bQ,b2,b1,bY,bV,bT);bZ[m](R.x);bW[m](R.y)}if(bS>0&&bS<1){R=al(S,E,bR,bQ,b2,b1,bY,bV,bS);bZ[m](R.x);bW[m](R.y)}return{min:{x:br[bK](0,bZ),y:br[bK](0,bW)},max:{x:q[bK](0,bZ),y:q[bK](0,bW)}}}),ae=aJ(function(b1,bW){var bQ=I(b1),bX=bW&&I(bW),bY={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bS=function(b3,b4){var b2,b5;if(!b3){return["C",b4.x,b4.y,b4.x,b4.y,b4.x,b4.y]}!(b3[0] in {T:1,Q:1})&&(b4.qx=b4.qy=null);switch(b3[0]){case"M":b4.X=b3[1];b4.Y=b3[2];break;case"A":b3=["C"][bF](ai[bK](0,[b4.x,b4.y][bF](b3.slice(1))));break;case"S":b2=b4.x+(b4.x-(b4.bx||b4.x));b5=b4.y+(b4.y-(b4.by||b4.y));b3=["C",b2,b5][bF](b3.slice(1));break;case"T":b4.qx=b4.x+(b4.x-(b4.qx||b4.x));b4.qy=b4.y+(b4.y-(b4.qy||b4.y));b3=["C"][bF](bs(b4.x,b4.y,b4.qx,b4.qy,b3[1],b3[2]));break;case"Q":b4.qx=b3[1];b4.qy=b3[2];b3=["C"][bF](bs(b4.x,b4.y,b3[1],b3[2],b3[3],b3[4]));break;case"L":b3=["C"][bF](bM(b4.x,b4.y,b3[1],b3[2]));break;case"H":b3=["C"][bF](bM(b4.x,b4.y,b3[1],b4.y));break;case"V":b3=["C"][bF](bM(b4.x,b4.y,b4.x,b3[1]));break;case"Z":b3=["C"][bF](bM(b4.x,b4.y,b4.X,b4.Y));break}return b3},R=function(b2,b3){if(b2[b3][A]>7){b2[b3].shift();var b4=b2[b3];while(b4[A]){b2.splice(b3++,0,["C"][bF](b4.splice(0,6)))}b2.splice(b3,1);bZ=q(bQ[A],bX&&bX[A]||0)}},S=function(b6,b5,b3,b2,b4){if(b6&&b5&&b6[b4][0]=="M"&&b5[b4][0]!="M"){b5.splice(b4,0,["M",b2.x,b2.y]);b3.bx=0;b3.by=0;b3.x=b6[b4][1];b3.y=b6[b4][2];bZ=q(bQ[A],bX&&bX[A]||0)}};for(var bU=0,bZ=q(bQ[A],bX&&bX[A]||0);bU<bZ;bU++){bQ[bU]=bS(bQ[bU],bY);R(bQ,bU);bX&&(bX[bU]=bS(bX[bU],E));bX&&R(bX,bU);S(bQ,bX,bY,E,bU);S(bX,bQ,E,bY,bU);var bT=bQ[bU],b0=bX&&bX[bU],bR=bT[A],bV=bX&&b0[A];bY.x=bT[bR-2];bY.y=bT[bR-1];bY.bx=at(bT[bR-4])||bY.x;bY.by=at(bT[bR-3])||bY.y;E.bx=bX&&(at(b0[bV-4])||E.x);E.by=bX&&(at(b0[bV-3])||E.y);E.x=bX&&b0[bV-2];E.y=bX&&b0[bV-1]}return bX?[bQ,bX]:bQ},null,a1),G=aJ(function(bV){var bU=[];for(var bR=0,bW=bV[A];bR<bW;bR++){var E={},bT=bV[bR].match(/^([^:]*):?([\d\.]*)/);E.color=aR.getRGB(bT[1]);if(E.color.error){return null}E.color=E.color.hex;bT[2]&&(E.offset=bT[2]+"%");bU[m](E)}for(bR=1,bW=bU[A]-1;bR<bW;bR++){if(!bU[bR].offset){var R=at(bU[bR-1].offset||0),S=0;for(var bQ=bR+1;bQ<bW;bQ++){if(bU[bQ].offset){S=bU[bQ].offset;break}}if(!S){S=100;bQ=bW}S=at(S);var bS=(S-R)/(bQ-bR+1);for(;bR<bQ;bR++){R+=bS;bU[bR].offset=R+"%"}}}return bU}),aS=function(E,bR,S,bQ){var R;if(aR.is(E,ao)||aR.is(E,"object")){R=aR.is(E,ao)?aj.getElementById(E):E;if(R.tagName){if(bR==null){return{container:R,width:R.style.pixelWidth||R.offsetWidth,height:R.style.pixelHeight||R.offsetHeight}}else{return{container:R,width:bR,height:S}}}}else{return{container:1,x:E,y:bR,width:S,height:bQ}}},bn=function(E,S){var R=this;for(var bQ in S){if(S[ap](bQ)&&!(bQ in E)){switch(typeof S[bQ]){case"function":(function(bR){E[bQ]=E===R?bR:function(){return bR[bK](R,arguments)}})(S[bQ]);break;case"object":E[bQ]=E[bQ]||{};bn.call(this,E[bQ],S[bQ]);break;default:E[bQ]=S[bQ];break}}}},aN=function(E,R){E==R.top&&(R.top=E.prev);E==R.bottom&&(R.bottom=E.next);E.next&&(E.next.prev=E.prev);E.prev&&(E.prev.next=E.next)},av=function(E,R){if(R.top===E){return}aN(E,R);E.next=null;E.prev=R.top;R.top.next=E;R.top=E},v=function(E,R){if(R.bottom===E){return}aN(E,R);E.next=R.bottom;E.prev=null;R.bottom.prev=E;R.bottom=E},U=function(R,E,S){aN(R,S);E==S.top&&(S.top=R);E.next&&(E.next.prev=R);R.next=E.next;R.prev=E;E.next=R},aU=function(R,E,S){aN(R,S);E==S.bottom&&(S.bottom=R);E.prev&&(E.prev.next=R);R.prev=E.prev;E.prev=R;R.next=E},J=function(E){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+E+"\u201d of removed object")}};aR.pathToRelative=aD;if(aR.svg){a8.svgns="http://www.w3.org/2000/svg";a8.xlink="http://www.w3.org/1999/xlink";am=function(E){return +E+(~~E===E)*0.5};var bq=function(S,E){if(E){for(var R in E){if(E[ap](R)){S[N](R,bL(E[R]))}}}else{S=aj.createElementNS(a8.svgns,S);S.style.webkitTapHighlightColor="rgba(0,0,0,0)";return S}};aR[a9]=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var H=function(E,bQ){var R=bq("path");bQ.canvas&&bQ.canvas[bt](R);var S=new a3(R,bQ);S.type="path";ax(S,{fill:"none",stroke:"#000",path:E});return S};var j=function(bQ,b0,E){var bX="linear",bU=0.5,bS=0.5,b2=bQ.style;b0=bL(b0)[bB](aX,function(b5,b3,b6){bX="radial";if(b3&&b6){bU=at(b3);bS=at(b6);var b4=((bS>0.5)*2-1);bu(bU-0.5,2)+bu(bS-0.5,2)>0.25&&(bS=ay.sqrt(0.25-bu(bU-0.5,2))*b4+0.5)&&bS!=0.5&&(bS=bS.toFixed(5)-0.00001*b4)}return aY});b0=b0[T](/\s*\-\s*/);if(bX=="linear"){var bT=b0.shift();bT=-at(bT);if(isNaN(bT)){return null}var bR=[0,0,ay.cos(bT*aV/180),ay.sin(bT*aV/180)],bZ=1/(q(aA(bR[2]),aA(bR[3]))||1);bR[2]*=bZ;bR[3]*=bZ;if(bR[2]<0){bR[0]=-bR[2];bR[2]=0}if(bR[3]<0){bR[1]=-bR[3];bR[3]=0}}var bW=G(b0);if(!bW){return null}var R=bQ.getAttribute(bd);R=R.match(/^url\(#(.*)\)$/);R&&E.defs.removeChild(aj.getElementById(R[1]));var S=bq(bX+"Gradient");S.id=l();bq(S,bX=="radial"?{fx:bU,fy:bS}:{x1:bR[0],y1:bR[1],x2:bR[2],y2:bR[3]});E.defs[bt](S);for(var bV=0,b1=bW[A];bV<b1;bV++){var bY=bq("stop");bq(bY,{offset:bW[bV].offset?bW[bV].offset:!bV?"0%":"100%","stop-color":bW[bV].color||"#fff"});S[bt](bY)}bq(bQ,{fill:"url(#"+S.id+")",opacity:1,"fill-opacity":1});b2.fill=aY;b2.opacity=1;b2.fillOpacity=1;return 1};var ak=function(R){var E=R.getBBox();bq(R.pattern,{patternTransform:aR.format("translate({0},{1})",E.x,E.y)})};var ax=function(b0,b9){var b3={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},b5=b0.node,b1=b0.attrs,bX=b0.rotate(),bT=function(cg,cf){cf=b3[bP.call(cf)];if(cf){var cd=cg.attrs["stroke-width"]||"1",cb={round:cd,square:cd,butt:0}[cg.attrs["stroke-linecap"]||b9["stroke-linecap"]]||0,ce=[];var cc=cf[A];while(cc--){ce[cc]=cf[cc]*cd+((cc%2)?1:-1)*cb}bq(b5,{"stroke-dasharray":ce[a5](",")})}};b9[ap]("rotation")&&(bX=b9.rotation);var bW=bL(bX)[T](f);if(!(bW.length-1)){bW=null}else{bW[1]=+bW[1];bW[2]=+bW[2]}at(bX)&&b0.rotate(0,true);for(var b4 in b9){if(b9[ap](b4)){if(!w[ap](b4)){continue}var b2=b9[b4];b1[b4]=b2;switch(b4){case"blur":b0.blur(b2);break;case"rotation":b0.rotate(b2,true);break;case"href":case"title":case"target":var b7=b5.parentNode;if(bP.call(b7.tagName)!="a"){var bR=bq("a");b7.insertBefore(bR,b5);bR[bt](b5);b7=bR}if(b4=="target"&&b2=="blank"){b7.setAttributeNS(b0.paper.xlink,"show","new")}else{b7.setAttributeNS(b0.paper.xlink,b4,b2)}break;case"cursor":b5.style.cursor=b2;break;case"clip-rect":var R=bL(b2)[T](f);if(R[A]==4){b0.clip&&b0.clip.parentNode.parentNode.removeChild(b0.clip.parentNode);var S=bq("clipPath"),b6=bq("rect");S.id=l();bq(b6,{x:R[0],y:R[1],width:R[2],height:R[3]});S[bt](b6);b0.paper.defs[bt](S);bq(b5,{"clip-path":"url(#"+S.id+")"});b0.clip=b6}if(!b2){var b8=aj.getElementById(b5.getAttribute("clip-path")[bB](/(^url\(#|\)$)/g,aY));b8&&b8.parentNode.removeChild(b8);bq(b5,{"clip-path":aY});delete b0.clip}break;case"path":if(b0.type=="path"){bq(b5,{d:b2?b1.path=I(b2):"M0,0"})}break;case"width":b5[N](b4,b2);if(b1.fx){b4="x";b2=b1.x}else{break}case"x":if(b1.fx){b2=-b1.x-(b1.width||0)}case"rx":if(b4=="rx"&&b0.type=="rect"){break}case"cx":bW&&(b4=="x"||b4=="cx")&&(bW[1]+=b2-b1[b4]);b5[N](b4,b2);b0.pattern&&ak(b0);break;case"height":b5[N](b4,b2);if(b1.fy){b4="y";b2=b1.y}else{break}case"y":if(b1.fy){b2=-b1.y-(b1.height||0)}case"ry":if(b4=="ry"&&b0.type=="rect"){break}case"cy":bW&&(b4=="y"||b4=="cy")&&(bW[2]+=b2-b1[b4]);b5[N](b4,b2);b0.pattern&&ak(b0);break;case"r":if(b0.type=="rect"){bq(b5,{rx:b2,ry:b2})}else{b5[N](b4,b2)}break;case"src":if(b0.type=="image"){b5.setAttributeNS(b0.paper.xlink,"href",b2)}break;case"stroke-width":b5.style.strokeWidth=b2;b5[N](b4,b2);if(b1["stroke-dasharray"]){bT(b0,b1["stroke-dasharray"])}break;case"stroke-dasharray":bT(b0,b2);break;case"translation":var bU=bL(b2)[T](f);bU[0]=+bU[0]||0;bU[1]=+bU[1]||0;if(bW){bW[1]+=bU[0];bW[2]+=bU[1]}K.call(b0,bU[0],bU[1]);break;case"scale":bU=bL(b2)[T](f);b0.scale(+bU[0]||1,+bU[1]||+bU[0]||1,isNaN(at(bU[2]))?null:+bU[2],isNaN(at(bU[3]))?null:+bU[3]);break;case bd:var bS=bL(b2).match(k);if(bS){S=bq("pattern");var bZ=bq("image");S.id=l();bq(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});bq(bZ,{x:0,y:0});bZ.setAttributeNS(b0.paper.xlink,"href",bS[1]);S[bt](bZ);var ca=aj.createElement("img");ca.style.cssText="position:absolute;left:-9999em;top-9999em";ca.onload=function(){bq(S,{width:this.offsetWidth,height:this.offsetHeight});bq(bZ,{width:this.offsetWidth,height:this.offsetHeight});aj.body.removeChild(this);b0.paper.safari()};aj.body[bt](ca);ca.src=bS[1];b0.paper.defs[bt](S);b5.style.fill="url(#"+S.id+")";bq(b5,{fill:"url(#"+S.id+")"});b0.pattern=S;b0.pattern&&ak(b0);break}var bQ=aR.getRGB(b2);if(!bQ.error){delete b9.gradient;delete b1.gradient;!aR.is(b1.opacity,"undefined")&&aR.is(b9.opacity,"undefined")&&bq(b5,{opacity:b1.opacity});!aR.is(b1["fill-opacity"],"undefined")&&aR.is(b9["fill-opacity"],"undefined")&&bq(b5,{"fill-opacity":b1["fill-opacity"]})}else{if((({circle:1,ellipse:1})[ap](b0.type)||bL(b2).charAt()!="r")&&j(b5,b2,b0.paper)){b1.gradient=b2;b1.fill="none";break}}bQ[ap]("opacity")&&bq(b5,{"fill-opacity":bQ.opacity>1?bQ.opacity/100:bQ.opacity});case"stroke":bQ=aR.getRGB(b2);b5[N](b4,bQ.hex);b4=="stroke"&&bQ[ap]("opacity")&&bq(b5,{"stroke-opacity":bQ.opacity>1?bQ.opacity/100:bQ.opacity});break;case"gradient":(({circle:1,ellipse:1})[ap](b0.type)||bL(b2).charAt()!="r")&&j(b5,b2,b0.paper);break;case"opacity":if(b1.gradient&&!b1[ap]("stroke-opacity")){bq(b5,{"stroke-opacity":b2>1?b2/100:b2})}case"fill-opacity":if(b1.gradient){var E=aj.getElementById(b5.getAttribute(bd)[bB](/^url\(#|\)$/g,aY));if(E){var bV=E.getElementsByTagName("stop");bV[bV[A]-1][N]("stop-opacity",b2)}break}default:b4=="font-size"&&(b2=ac(b2,10)+"px");var bY=b4[bB](/(\-.)/g,function(cb){return bx.call(cb.substring(1))});b5.style[bY]=b2;b5[N](b4,b2);break}}}aa(b0,b9);if(bW){b0.rotate(bW.join(aQ))}else{at(bX)&&b0.rotate(bX,true)}};var s=1.2,aa=function(E,bQ){if(E.type!="text"||!(bQ[ap]("text")||bQ[ap]("font")||bQ[ap]("font-size")||bQ[ap]("x")||bQ[ap]("y"))){return}var bV=E.attrs,R=E.node,bX=R.firstChild?ac(aj.defaultView.getComputedStyle(R.firstChild,aY).getPropertyValue("font-size"),10):10;if(bQ[ap]("text")){bV.text=bQ.text;while(R.firstChild){R.removeChild(R.firstChild)}var S=bL(bQ.text)[T]("\n");for(var bR=0,bW=S[A];bR<bW;bR++){if(S[bR]){var bT=bq("tspan");bR&&bq(bT,{dy:bX*s,x:bV.x});bT[bt](aj.createTextNode(S[bR]));R[bt](bT)}}}else{S=R.getElementsByTagName("tspan");for(bR=0,bW=S[A];bR<bW;bR++){bR&&bq(S[bR],{dy:bX*s,x:bV.x})}}bq(R,{y:bV.y});var bS=E.getBBox(),bU=bV.y-(bS.y+bS.height/2);bU&&aR.is(bU,"finite")&&bq(R,{y:bV.y+bU})},a3=function(R,E){var bQ=0,S=0;this[0]=R;this.id=aR._oid++;this.node=R;R.raphael=this;this.paper=E;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!E.bottom&&(E.bottom=this);this.prev=E.top;E.top&&(E.top.next=this);E.top=this;this.next=null};var bl=a3[bN];a3[bN].rotate=function(R,E,bQ){if(this.removed){return this}if(R==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][a5](aQ)}return this._.rt.deg}var S=this.getBBox();R=bL(R)[T](f);if(R[A]-1){E=at(R[1]);bQ=at(R[2])}R=at(R[0]);if(E!=null&&E!==false){this._.rt.deg=R}else{this._.rt.deg+=R}(bQ==null)&&(E=null);this._.rt.cx=E;this._.rt.cy=bQ;E=E==null?S.x+S.width/2:E;bQ=bQ==null?S.y+S.height/2:bQ;if(this._.rt.deg){this.transformations[0]=aR.format("rotate({0} {1} {2})",this._.rt.deg,E,bQ);this.clip&&bq(this.clip,{transform:aR.format("rotate({0} {1} {2})",-this._.rt.deg,E,bQ)})}else{this.transformations[0]=aY;this.clip&&bq(this.clip,{transform:aY})}bq(this.node,{transform:this.transformations[a5](aQ)});return this};a3[bN].hide=function(){!this.removed&&(this.node.style.display="none");return this};a3[bN].show=function(){!this.removed&&(this.node.style.display="");return this};a3[bN].remove=function(){if(this.removed){return}aN(this,this.paper);this.node.parentNode.removeChild(this.node);for(var E in this){delete this[E]}this.removed=true};a3[bN].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return ar(this.attrs.path)}if(this.node.style.display=="none"){this.show();var R=true}var bS={};try{bS=this.node.getBBox()}catch(bQ){}finally{bS=bS||{}}if(this.type=="text"){bS={x:bS.x,y:Infinity,width:0,height:0};for(var E=0,S=this.node.getNumberOfChars();E<S;E++){var bR=this.node.getExtentOfChar(E);(bR.y<bS.y)&&(bS.y=bR.y);(bR.y+bR.height-bS.y>bS.height)&&(bS.height=bR.y+bR.height-bS.y);(bR.x+bR.width-bS.x>bS.width)&&(bS.width=bR.x+bR.width-bS.x)}}R&&this.hide();return bS};a3[bN].attr=function(E,bV){if(this.removed){return this}if(E==null){var bU={};for(var bR in this.attrs){if(this.attrs[ap](bR)){bU[bR]=this.attrs[bR]}}this._.rt.deg&&(bU.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(bU.scale=this.scale());bU.gradient&&bU.fill=="none"&&(bU.fill=bU.gradient)&&delete bU.gradient;return bU}if(bV==null&&aR.is(E,ao)){if(E=="translation"){return K.call(this)}if(E=="rotation"){return this.rotate()}if(E=="scale"){return this.scale()}if(E==bd&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[E]}if(bV==null&&aR.is(E,bg)){var bX={};for(var bQ=0,bS=E.length;bQ<bS;bQ++){bX[E[bQ]]=this.attr(E[bQ])}return bX}if(bV!=null){var R={};R[E]=bV}else{if(E!=null&&aR.is(E,"object")){R=E}}for(var bW in this.paper.customAttributes){if(this.paper.customAttributes[ap](bW)&&R[ap](bW)&&aR.is(this.paper.customAttributes[bW],"function")){var bT=this.paper.customAttributes[bW].apply(this,[][bF](R[bW]));this.attrs[bW]=R[bW];for(var S in bT){if(bT[ap](S)){R[S]=bT[S]}}}}ax(this,R);return this};a3[bN].toFront=function(){if(this.removed){return this}this.node.parentNode[bt](this.node);var E=this.paper;E.top!=this&&av(this,E);return this};a3[bN].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);v(this,this.paper);var E=this.paper}return this};a3[bN].insertAfter=function(E){if(this.removed){return this}var R=E.node||E[E.length-1].node;if(R.nextSibling){R.parentNode.insertBefore(this.node,R.nextSibling)}else{R.parentNode[bt](this.node)}U(this,E,this.paper);return this};a3[bN].insertBefore=function(E){if(this.removed){return this}var R=E.node||E[0].node;R.parentNode.insertBefore(this.node,R);aU(this,E,this.paper);return this};a3[bN].blur=function(R){var E=this;if(+R!==0){var S=bq("filter"),bQ=bq("feGaussianBlur");E.attrs.blur=R;S.id=l();bq(bQ,{stdDeviation:+R||1.5});S.appendChild(bQ);E.paper.defs.appendChild(S);E._blur=S;bq(E.node,{filter:"url(#"+S.id+")"})}else{if(E._blur){E._blur.parentNode.removeChild(E._blur);delete E._blur;delete E.attrs.blur}E.node.removeAttribute("filter")}};var an=function(R,E,bS,bR){var bQ=bq("circle");R.canvas&&R.canvas[bt](bQ);var S=new a3(bQ,R);S.attrs={cx:E,cy:bS,r:bR,fill:"none",stroke:"#000"};S.type="circle";bq(bQ,S.attrs);return S},bk=function(S,E,bU,R,bS,bT){var bR=bq("rect");S.canvas&&S.canvas[bt](bR);var bQ=new a3(bR,S);bQ.attrs={x:E,y:bU,width:R,height:bS,r:bT||0,rx:bT||0,ry:bT||0,fill:"none",stroke:"#000"};bQ.type="rect";bq(bR,bQ.attrs);return bQ},aI=function(R,E,bT,bS,bR){var bQ=bq("ellipse");R.canvas&&R.canvas[bt](bQ);var S=new a3(bQ,R);S.attrs={cx:E,cy:bT,rx:bS,ry:bR,fill:"none",stroke:"#000"};S.type="ellipse";bq(bQ,S.attrs);return S},F=function(S,bT,E,bU,R,bS){var bR=bq("image");bq(bR,{x:E,y:bU,width:R,height:bS,preserveAspectRatio:"none"});bR.setAttributeNS(S.xlink,"href",bT);S.canvas&&S.canvas[bt](bR);var bQ=new a3(bR,S);bQ.attrs={x:E,y:bU,width:R,height:bS,src:bT};bQ.type="image";return bQ},au=function(R,E,bS,bR){var bQ=bq("text");bq(bQ,{x:E,y:bS,"text-anchor":"middle"});R.canvas&&R.canvas[bt](bQ);var S=new a3(bQ,R);S.attrs={x:E,y:bS,"text-anchor":"middle",text:bR,font:w.font,stroke:"none",fill:"#000"};S.type="text";ax(S,S.attrs);return S},bJ=function(R,E){this.width=R||this.width;this.height=E||this.height;this.canvas[N]("width",this.width);this.canvas[N]("height",this.height);return this},O=function(){var bQ=aS[bK](0,arguments),S=bQ&&bQ.container,R=bQ.x,bT=bQ.y,bR=bQ.width,E=bQ.height;if(!S){throw new Error("SVG container not found.")}var bS=bq("svg");R=R||0;bT=bT||0;bR=bR||512;E=E||342;bq(bS,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:bR,height:E});if(S==1){bS.style.cssText="position:absolute;left:"+R+"px;top:"+bT+"px";aj.body[bt](bS)}else{if(S.firstChild){S.insertBefore(bS,S.firstChild)}else{S[bt](bS)}}S=new bI;S.width=bR;S.height=E;S.canvas=bS;bn.call(S,S,aR.fn);S.clear();return S};a8.clear=function(){var E=this.canvas;while(E.firstChild){E.removeChild(E.firstChild)}this.bottom=this.top=null;(this.desc=bq("desc"))[bt](aj.createTextNode("Created with Rapha\xebl"));E[bt](this.desc);E[bt](this.defs=bq("defs"))};a8.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var E in this){this[E]=J(E)}}}if(aR.vml){var Y={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},aW=/([clmz]),?([^clmz]*)/gi,bG=/ progid:\S+Blur\([^\)]+\)/g,bO=/-?[^,\s-]+/g,a6=1000+aQ+1000,D=10,B={path:1,rect:1},bp=function(bX){var bU=/[ahqstv]/ig,S=I;bL(bX).match(bU)&&(S=ae);bU=/[clmz]/g;if(S==I&&!bL(bX).match(bU)){var bT=bL(bX)[bB](aW,function(b1,b3,bZ){var b2=[],bY=bP.call(b3)=="m",b0=Y[b3];bZ[bB](bO,function(b4){if(bY&&b2[A]==2){b0+=b2+Y[b3=="m"?"l":"L"];b2=[]}b2[m](am(b4*D))});return b0+b2});return bT}var bV=S(bX),R,E;bT=[];for(var bR=0,bW=bV[A];bR<bW;bR++){R=bV[bR];E=bP.call(bV[bR][0]);E=="z"&&(E="x");for(var bQ=1,bS=R[A];bQ<bS;bQ++){E+=am(R[bQ]*D)+(bQ!=bS-1?",":aY)}bT[m](E)}return bT[a5](aQ)};aR[a9]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};H=function(S,R){var bS=aH("group");bS.style.cssText="position:absolute;left:0;top:0;width:"+R.width+"px;height:"+R.height+"px";bS.coordsize=R.coordsize;bS.coordorigin=R.coordorigin;var bR=aH("shape"),bQ=bR.style;bQ.width=R.width+"px";bQ.height=R.height+"px";bR.coordsize=a6;bR.coordorigin=R.coordorigin;bS[bt](bR);var bT=new a3(bR,bS,R),E={fill:"none",stroke:"#000"};S&&(E.path=S);bT.type="path";bT.path=[];bT.Path=aY;ax(bT,E);R.canvas[bt](bS);return bT};ax=function(bW,b3){bW.attrs=bW.attrs||{};var b0=bW.node,b4=bW.attrs,bT=b0.style,bQ,b2=(b3.x!=b4.x||b3.y!=b4.y||b3.width!=b4.width||b3.height!=b4.height||b3.r!=b4.r)&&bW.type=="rect",b8=bW;for(var bU in b3){if(b3[ap](bU)){b4[bU]=b3[bU]}}if(b2){b4.path=aC(b4.x,b4.y,b4.width,b4.height,b4.r);bW.X=b4.x;bW.Y=b4.y;bW.W=b4.width;bW.H=b4.height}b3.href&&(b0.href=b3.href);b3.title&&(b0.title=b3.title);b3.target&&(b0.target=b3.target);b3.cursor&&(bT.cursor=b3.cursor);"blur" in b3&&bW.blur(b3.blur);if(b3.path&&bW.type=="path"||b2){b0.path=bp(b4.path)}if(b3.rotation!=null){bW.rotate(b3.rotation,true)}if(b3.translation){bQ=bL(b3.translation)[T](f);K.call(bW,bQ[0],bQ[1]);if(bW._.rt.cx!=null){bW._.rt.cx+=+bQ[0];bW._.rt.cy+=+bQ[1];bW.setBox(bW.attrs,bQ[0],bQ[1])}}if(b3.scale){bQ=bL(b3.scale)[T](f);bW.scale(+bQ[0]||1,+bQ[1]||+bQ[0]||1,+bQ[2]||null,+bQ[3]||null)}if("clip-rect" in b3){var E=bL(b3["clip-rect"])[T](f);if(E[A]==4){E[2]=+E[2]+(+E[0]);E[3]=+E[3]+(+E[1]);var bV=b0.clipRect||aj.createElement("div"),b7=bV.style,bS=b0.parentNode;b7.clip=aR.format("rect({1}px {2}px {3}px {0}px)",E);if(!b0.clipRect){b7.position="absolute";b7.top=0;b7.left=0;b7.width=bW.paper.width+"px";b7.height=bW.paper.height+"px";bS.parentNode.insertBefore(bV,bS);bV[bt](bS);b0.clipRect=bV}}if(!b3["clip-rect"]){b0.clipRect&&(b0.clipRect.style.clip=aY)}}if(bW.type=="image"&&b3.src){b0.src=b3.src}if(bW.type=="image"&&b3.opacity){b0.filterOpacity=be+".Alpha(opacity="+(b3.opacity*100)+")";bT.filter=(b0.filterMatrix||aY)+(b0.filterOpacity||aY)}b3.font&&(bT.font=b3.font);b3["font-family"]&&(bT.fontFamily='"'+b3["font-family"][T](",")[0][bB](/^['"]+|['"]+$/g,aY)+'"');b3["font-size"]&&(bT.fontSize=b3["font-size"]);b3["font-weight"]&&(bT.fontWeight=b3["font-weight"]);b3["font-style"]&&(bT.fontStyle=b3["font-style"]);if(b3.opacity!=null||b3["stroke-width"]!=null||b3.fill!=null||b3.stroke!=null||b3["stroke-width"]!=null||b3["stroke-opacity"]!=null||b3["fill-opacity"]!=null||b3["stroke-dasharray"]!=null||b3["stroke-miterlimit"]!=null||b3["stroke-linejoin"]!=null||b3["stroke-linecap"]!=null){b0=bW.shape||b0;var b1=(b0.getElementsByTagName(bd)&&b0.getElementsByTagName(bd)[0]),b5=false;!b1&&(b5=b1=aH(bd));if("fill-opacity" in b3||"opacity" in b3){var R=((+b4["fill-opacity"]+1||2)-1)*((+b4.opacity+1||2)-1)*((+aR.getRGB(b3.fill).o+1||2)-1);R=br(q(R,0),1);b1.opacity=R}b3.fill&&(b1.on=true);if(b1.on==null||b3.fill=="none"){b1.on=false}if(b1.on&&b3.fill){var S=b3.fill.match(k);if(S){b1.src=S[1];b1.type="tile"}else{b1.color=aR.getRGB(b3.fill).hex;b1.src=aY;b1.type="solid";if(aR.getRGB(b3.fill).error&&(b8.type in {circle:1,ellipse:1}||bL(b3.fill).charAt()!="r")&&j(b8,b3.fill)){b4.fill="none";b4.gradient=b3.fill}}}b5&&b0[bt](b1);var bR=(b0.getElementsByTagName("stroke")&&b0.getElementsByTagName("stroke")[0]),b6=false;!bR&&(b6=bR=aH("stroke"));if((b3.stroke&&b3.stroke!="none")||b3["stroke-width"]||b3["stroke-opacity"]!=null||b3["stroke-dasharray"]||b3["stroke-miterlimit"]||b3["stroke-linejoin"]||b3["stroke-linecap"]){bR.on=true}(b3.stroke=="none"||bR.on==null||b3.stroke==0||b3["stroke-width"]==0)&&(bR.on=false);var bZ=aR.getRGB(b3.stroke);bR.on&&b3.stroke&&(bR.color=bZ.hex);R=((+b4["stroke-opacity"]+1||2)-1)*((+b4.opacity+1||2)-1)*((+bZ.o+1||2)-1);var bX=(at(b3["stroke-width"])||1)*0.75;R=br(q(R,0),1);b3["stroke-width"]==null&&(bX=b4["stroke-width"]);b3["stroke-width"]&&(bR.weight=bX);bX&&bX<1&&(R*=bX)&&(bR.weight=1);bR.opacity=R;b3["stroke-linejoin"]&&(bR.joinstyle=b3["stroke-linejoin"]||"miter");bR.miterlimit=b3["stroke-miterlimit"]||8;b3["stroke-linecap"]&&(bR.endcap=b3["stroke-linecap"]=="butt"?"flat":b3["stroke-linecap"]=="square"?"square":"round");if(b3["stroke-dasharray"]){var bY={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};bR.dashstyle=bY[ap](b3["stroke-dasharray"])?bY[b3["stroke-dasharray"]]:aY}b6&&b0[bt](bR)}if(b8.type=="text"){bT=b8.paper.span.style;b4.font&&(bT.font=b4.font);b4["font-family"]&&(bT.fontFamily=b4["font-family"]);b4["font-size"]&&(bT.fontSize=b4["font-size"]);b4["font-weight"]&&(bT.fontWeight=b4["font-weight"]);b4["font-style"]&&(bT.fontStyle=b4["font-style"]);b8.node.string&&(b8.paper.span.innerHTML=bL(b8.node.string)[bB](/</g,"&#60;")[bB](/&/g,"&#38;")[bB](/\n/g,"<br>"));b8.W=b4.w=b8.paper.span.offsetWidth;b8.H=b4.h=b8.paper.span.offsetHeight;b8.X=b4.x;b8.Y=b4.y+am(b8.H/2);switch(b4["text-anchor"]){case"start":b8.node.style["v-text-align"]="left";b8.bbx=am(b8.W/2);break;case"end":b8.node.style["v-text-align"]="right";b8.bbx=-am(b8.W/2);break;default:b8.node.style["v-text-align"]="center";break}}};j=function(E,bT){E.attrs=E.attrs||{};var bU=E.attrs,bW,bR="linear",bS=".5 .5";E.attrs.gradient=bT;bT=bL(bT)[bB](aX,function(bZ,b0,bY){bR="radial";if(b0&&bY){b0=at(b0);bY=at(bY);bu(b0-0.5,2)+bu(bY-0.5,2)>0.25&&(bY=ay.sqrt(0.25-bu(b0-0.5,2))*((bY>0.5)*2-1)+0.5);bS=b0+aQ+bY}return aY});bT=bT[T](/\s*\-\s*/);if(bR=="linear"){var R=bT.shift();R=-at(R);if(isNaN(R)){return null}}var bQ=G(bT);if(!bQ){return null}E=E.shape||E.node;bW=E.getElementsByTagName(bd)[0]||aH(bd);!bW.parentNode&&E.appendChild(bW);if(bQ[A]){bW.on=true;bW.method="none";bW.color=bQ[0].color;bW.color2=bQ[bQ[A]-1].color;var bX=[];for(var S=0,bV=bQ[A];S<bV;S++){bQ[S].offset&&bX[m](bQ[S].offset+aQ+bQ[S].color)}bW.colors&&(bW.colors.value=bX[A]?bX[a5]():"0% "+bW.color);if(bR=="radial"){bW.type="gradientradial";bW.focus="100%";bW.focussize=bS;bW.focusposition=bS}else{bW.type="gradient";bW.angle=(270-R)%360}}return 1};a3=function(bR,bT,E){var bS=0,S=0,R=0,bQ=1;this[0]=bR;this.id=aR._oid++;this.node=bR;bR.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=bT;this.paper=E;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!E.bottom&&(E.bottom=this);this.prev=E.top;E.top&&(E.top.next=this);E.top=this;this.next=null};bl=a3[bN];bl.rotate=function(R,E,S){if(this.removed){return this}if(R==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][a5](aQ)}return this._.rt.deg}R=bL(R)[T](f);if(R[A]-1){E=at(R[1]);S=at(R[2])}R=at(R[0]);if(E!=null){this._.rt.deg=R}else{this._.rt.deg+=R}S==null&&(E=null);this._.rt.cx=E;this._.rt.cy=S;this.setBox(this.attrs,E,S);this.Group.style.rotation=this._.rt.deg;return this};bl.setBox=function(bQ,bR,S){if(this.removed){return this}var E=this.Group.style,bS=(this.shape&&this.shape.style)||this.node.style;bQ=bQ||{};for(var bT in bQ){if(bQ[ap](bT)){this.attrs[bT]=bQ[bT]}}bR=bR||this._.rt.cx;S=S||this._.rt.cy;var bW=this.attrs,bZ,bY,b0,bV;switch(this.type){case"circle":bZ=bW.cx-bW.r;bY=bW.cy-bW.r;b0=bV=bW.r*2;break;case"ellipse":bZ=bW.cx-bW.rx;bY=bW.cy-bW.ry;b0=bW.rx*2;bV=bW.ry*2;break;case"image":bZ=+bW.x;bY=+bW.y;b0=bW.width||0;bV=bW.height||0;break;case"text":this.textpath.v=["m",am(bW.x),", ",am(bW.y-2),"l",am(bW.x)+1,", ",am(bW.y-2)][a5](aY);bZ=bW.x-am(this.W/2);bY=bW.y-this.H/2;b0=this.W;bV=this.H;break;case"rect":case"path":if(!this.attrs.path){bZ=0;bY=0;b0=this.paper.width;bV=this.paper.height}else{var bU=ar(this.attrs.path);bZ=bU.x;bY=bU.y;b0=bU.width;bV=bU.height}break;default:bZ=0;bY=0;b0=this.paper.width;bV=this.paper.height;break}bR=(bR==null)?bZ+b0/2:bR;S=(S==null)?bY+bV/2:S;var R=bR-this.paper.width/2,bX=S-this.paper.height/2,b1;E.left!=(b1=R+"px")&&(E.left=b1);E.top!=(b1=bX+"px")&&(E.top=b1);this.X=B[ap](this.type)?-R:bZ;this.Y=B[ap](this.type)?-bX:bY;this.W=b0;this.H=bV;if(B[ap](this.type)){bS.left!=(b1=-R*D+"px")&&(bS.left=b1);bS.top!=(b1=-bX*D+"px")&&(bS.top=b1)}else{if(this.type=="text"){bS.left!=(b1=-R+"px")&&(bS.left=b1);bS.top!=(b1=-bX+"px")&&(bS.top=b1)}else{E.width!=(b1=this.paper.width+"px")&&(E.width=b1);E.height!=(b1=this.paper.height+"px")&&(E.height=b1);bS.left!=(b1=bZ-R+"px")&&(bS.left=b1);bS.top!=(b1=bY-bX+"px")&&(bS.top=b1);bS.width!=(b1=b0+"px")&&(bS.width=b1);bS.height!=(b1=bV+"px")&&(bS.height=b1)}}};bl.hide=function(){!this.removed&&(this.Group.style.display="none");return this};bl.show=function(){!this.removed&&(this.Group.style.display="block");return this};bl.getBBox=function(){if(this.removed){return this}if(B[ap](this.type)){return ar(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};bl.remove=function(){if(this.removed){return}aN(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var E in this){delete this[E]}this.removed=true};bl.attr=function(E,bT){if(this.removed){return this}if(E==null){var bS={};for(var bQ in this.attrs){if(this.attrs[ap](bQ)){bS[bQ]=this.attrs[bQ]}}this._.rt.deg&&(bS.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(bS.scale=this.scale());bS.gradient&&bS.fill=="none"&&(bS.fill=bS.gradient)&&delete bS.gradient;return bS}if(bT==null&&aR.is(E,"string")){if(E=="translation"){return K.call(this)}if(E=="rotation"){return this.rotate()}if(E=="scale"){return this.scale()}if(E==bd&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[E]}if(this.attrs&&bT==null&&aR.is(E,bg)){var bW,bV={};for(bQ=0,bW=E[A];bQ<bW;bQ++){bV[E[bQ]]=this.attr(E[bQ])}return bV}var R;if(bT!=null){R={};R[E]=bT}bT==null&&aR.is(E,"object")&&(R=E);if(R){for(var bU in this.paper.customAttributes){if(this.paper.customAttributes[ap](bU)&&R[ap](bU)&&aR.is(this.paper.customAttributes[bU],"function")){var bR=this.paper.customAttributes[bU].apply(this,[][bF](R[bU]));this.attrs[bU]=R[bU];for(var S in bR){if(bR[ap](S)){R[S]=bR[S]}}}}if(R.text&&this.type=="text"){this.node.string=R.text}ax(this,R);if(R.gradient&&(({circle:1,ellipse:1})[ap](this.type)||bL(R.gradient).charAt()!="r")){j(this,R.gradient)}(!B[ap](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};bl.toFront=function(){!this.removed&&this.Group.parentNode[bt](this.Group);this.paper.top!=this&&av(this,this.paper);return this};bl.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);v(this,this.paper)}return this};bl.insertAfter=function(E){if(this.removed){return this}if(E.constructor==aq){E=E[E.length-1]}if(E.Group.nextSibling){E.Group.parentNode.insertBefore(this.Group,E.Group.nextSibling)}else{E.Group.parentNode[bt](this.Group)}U(this,E,this.paper);return this};bl.insertBefore=function(E){if(this.removed){return this}if(E.constructor==aq){E=E[0]}E.Group.parentNode.insertBefore(this.Group,E.Group);aU(this,E,this.paper);return this};bl.blur=function(E){var R=this.node.runtimeStyle,S=R.filter;S=S.replace(bG,aY);if(+E!==0){this.attrs.blur=E;R.filter=S+aQ+be+".Blur(pixelradius="+(+E||1.5)+")";R.margin=aR.format("-{0}px 0 0 -{0}px",am(+E||1.5))}else{R.filter=S;R.margin=0;delete this.attrs.blur}};an=function(R,E,bU,bS){var bR=aH("group"),bT=aH("oval"),S=bT.style;bR.style.cssText="position:absolute;left:0;top:0;width:"+R.width+"px;height:"+R.height+"px";bR.coordsize=a6;bR.coordorigin=R.coordorigin;bR[bt](bT);var bQ=new a3(bT,bR,R);bQ.type="circle";ax(bQ,{stroke:"#000",fill:"none"});bQ.attrs.cx=E;bQ.attrs.cy=bU;bQ.attrs.r=bS;bQ.setBox({x:E-bS,y:bU-bS,width:bS*2,height:bS*2});R.canvas[bt](bR);return bQ};function aC(E,bR,R,S,bQ){if(bQ){return aR.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",E+bQ,bR,R-bQ*2,bQ,-bQ,S-bQ*2,bQ*2-R,bQ*2-S)}else{return aR.format("M{0},{1}l{2},0,0,{3},{4},0z",E,bR,R,S,-R)}}bk=function(R,bT,bR,bU,S,E){var bV=aC(bT,bR,bU,S,E),bQ=R.path(bV),bS=bQ.attrs;bQ.X=bS.x=bT;bQ.Y=bS.y=bR;bQ.W=bS.width=bU;bQ.H=bS.height=S;bS.r=E;bS.path=bV;bQ.type="rect";return bQ};aI=function(E,bV,bU,S,R){var bR=aH("group"),bQ=aH("oval"),bT=bQ.style;bR.style.cssText="position:absolute;left:0;top:0;width:"+E.width+"px;height:"+E.height+"px";bR.coordsize=a6;bR.coordorigin=E.coordorigin;bR[bt](bQ);var bS=new a3(bQ,bR,E);bS.type="ellipse";ax(bS,{stroke:"#000"});bS.attrs.cx=bV;bS.attrs.cy=bU;bS.attrs.rx=S;bS.attrs.ry=R;bS.setBox({x:bV-S,y:bU-R,width:S*2,height:R*2});E.canvas[bt](bR);return bS};F=function(R,E,bU,bT,bV,bQ){var bR=aH("group"),S=aH("image");bR.style.cssText="position:absolute;left:0;top:0;width:"+R.width+"px;height:"+R.height+"px";bR.coordsize=a6;bR.coordorigin=R.coordorigin;S.src=E;bR[bt](S);var bS=new a3(S,bR,R);bS.type="image";bS.attrs.src=E;bS.attrs.x=bU;bS.attrs.y=bT;bS.attrs.w=bV;bS.attrs.h=bQ;bS.setBox({x:bU,y:bT,width:bV,height:bQ});R.canvas[bt](bR);return bS};au=function(R,bV,bU,bW){var bR=aH("group"),bQ=aH("shape"),bT=bQ.style,bX=aH("path"),E=bX.style,S=aH("textpath");bR.style.cssText="position:absolute;left:0;top:0;width:"+R.width+"px;height:"+R.height+"px";bR.coordsize=a6;bR.coordorigin=R.coordorigin;bX.v=aR.format("m{0},{1}l{2},{1}",am(bV*10),am(bU*10),am(bV*10)+1);bX.textpathok=true;bT.width=R.width;bT.height=R.height;S.string=bL(bW);S.on=true;bQ[bt](S);bQ[bt](bX);bR[bt](bQ);var bS=new a3(S,bR,R);bS.shape=bQ;bS.textpath=bX;bS.type="text";bS.attrs.text=bW;bS.attrs.x=bV;bS.attrs.y=bU;bS.attrs.w=1;bS.attrs.h=1;ax(bS,{font:w.font,stroke:"none",fill:"#000"});bS.setBox();R.canvas[bt](bR);return bS};bJ=function(S,E){var R=this.canvas.style;S==+S&&(S+="px");E==+E&&(E+="px");R.width=S;R.height=E;R.clip="rect(0 "+S+" "+E+" 0)";return this};var aH;aj.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!aj.namespaces.rvml&&aj.namespaces.add("rvml","urn:schemas-microsoft-com:vml");aH=function(E){return aj.createElement("<rvml:"+E+' class="rvml">')}}catch(aF){aH=function(E){return aj.createElement("<"+E+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}O=function(){var S=aS[bK](0,arguments),E=S.container,bV=S.height,bW,R=S.width,bU=S.x,bT=S.y;if(!E){throw new Error("VML container not found.")}var bR=new bI,bS=bR.canvas=aj.createElement("div"),bQ=bS.style;bU=bU||0;bT=bT||0;R=R||512;bV=bV||342;R==+R&&(R+="px");bV==+bV&&(bV+="px");bR.width=1000;bR.height=1000;bR.coordsize=D*1000+aQ+D*1000;bR.coordorigin="0 0";bR.span=aj.createElement("span");bR.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";bS[bt](bR.span);bQ.cssText=aR.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",R,bV);if(E==1){aj.body[bt](bS);bQ.left=bU+"px";bQ.top=bT+"px";bQ.position="absolute"}else{if(E.firstChild){E.insertBefore(bS,E.firstChild)}else{E[bt](bS)}}bn.call(bR,bR,aR.fn);return bR};a8.clear=function(){this.canvas.innerHTML=aY;this.span=aj.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[bt](this.span);this.bottom=this.top=null};a8.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var E in this){this[E]=J(E)}return true}}var ad=navigator.userAgent.match(/Version\/(.*?)\s/);if((navigator.vendor=="Apple Computer, Inc.")&&(ad&&ad[1]<4||navigator.platform.slice(0,2)=="iP")){a8.safari=function(){var E=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});aZ.setTimeout(function(){E.remove()})}}else{a8.safari=function(){}}var Z=function(){this.returnValue=false},bE=function(){return this.originalEvent.preventDefault()},bc=function(){this.cancelBubble=true},aM=function(){return this.originalEvent.stopPropagation()},aE=(function(){if(aj.addEventListener){return function(bS,bQ,S,R){var E=af&&bz[bQ]?bz[bQ]:bQ;var bR=function(bW){if(af&&bz[ap](bQ)){for(var bU=0,bV=bW.targetTouches&&bW.targetTouches.length;bU<bV;bU++){if(bW.targetTouches[bU].target==bS){var bT=bW;bW=bW.targetTouches[bU];bW.originalEvent=bT;bW.preventDefault=bE;bW.stopPropagation=aM;break}}}return S.call(R,bW)};bS.addEventListener(E,bR,false);return function(){bS.removeEventListener(E,bR,false);return true}}}else{if(aj.attachEvent){return function(bS,bQ,S,R){var bR=function(bT){bT=bT||aZ.event;bT.preventDefault=bT.preventDefault||Z;bT.stopPropagation=bT.stopPropagation||bc;return S.call(R,bT)};bS.attachEvent("on"+bQ,bR);var E=function(){bS.detachEvent("on"+bQ,bR);return true};return E}}}})(),bh=[],bA=function(bR){var bT=bR.clientX,bS=bR.clientY,bU=aj.documentElement.scrollTop||aj.body.scrollTop,bV=aj.documentElement.scrollLeft||aj.body.scrollLeft,E,R=bh.length;while(R--){E=bh[R];if(af){var bQ=bR.touches.length,S;while(bQ--){S=bR.touches[bQ];if(S.identifier==E.el._drag.id){bT=S.clientX;bS=S.clientY;(bR.originalEvent?bR.originalEvent:bR).preventDefault();break}}}else{bR.preventDefault()}bT+=bV;bS+=bU;E.move&&E.move.call(E.move_scope||E.el,bT-E.el._drag.x,bS-E.el._drag.y,bT,bS,bR)}},h=function(S){aR.unmousemove(bA).unmouseup(h);var R=bh.length,E;while(R--){E=bh[R];E.el._drag={};E.end&&E.end.call(E.end_scope||E.start_scope||E.move_scope||E.el,S)}bh=[]};for(var aB=ab[A];aB--;){(function(E){aR[E]=a3[bN][E]=function(S,R){if(aR.is(S,"function")){this.events=this.events||[];this.events.push({name:E,f:S,unbind:aE(this.shape||this.node||aj,E,S,R||this)})}return this};aR["un"+E]=a3[bN]["un"+E]=function(bQ){var S=this.events,R=S[A];while(R--){if(S[R].name==E&&S[R].f==bQ){S[R].unbind();S.splice(R,1);!S.length&&delete this.events;return this}}return this}})(ab[aB])}bl.hover=function(bQ,E,S,R){return this.mouseover(bQ,S).mouseout(E,R||S)};bl.unhover=function(R,E){return this.unmouseover(R).unmouseout(E)};bl.drag=function(R,bS,bR,E,S,bQ){this._drag={};this.mousedown(function(bU){(bU.originalEvent||bU).preventDefault();var bT=aj.documentElement.scrollTop||aj.body.scrollTop,bV=aj.documentElement.scrollLeft||aj.body.scrollLeft;this._drag.x=bU.clientX+bV;this._drag.y=bU.clientY+bT;this._drag.id=bU.identifier;bS&&bS.call(S||E||this,bU.clientX+bV,bU.clientY+bT,bU);!bh.length&&aR.mousemove(bA).mouseup(h);bh.push({el:this,move:R,end:bR,move_scope:E,start_scope:S,end_scope:bQ})});return this};bl.undrag=function(E,bQ,S){var R=bh.length;while(R--){bh[R].el==this&&(bh[R].move==E&&bh[R].end==S)&&bh.splice(R++,1)}!bh.length&&aR.unmousemove(bA).unmouseup(h)};a8.circle=function(E,S,R){return an(this,E||0,S||0,R||0)};a8.rect=function(E,bR,R,S,bQ){return bk(this,E||0,bR||0,R||0,S||0,bQ||0)};a8.ellipse=function(E,bQ,S,R){return aI(this,E||0,bQ||0,S||0,R||0)};a8.path=function(E){E&&!aR.is(E,ao)&&!aR.is(E[0],bg)&&(E+=aY);return H(aR.format[bK](aR,arguments),this)};a8.image=function(bQ,E,bR,R,S){return F(this,bQ||"about:blank",E||0,bR||0,R||0,S||0)};a8.text=function(E,S,R){return au(this,E||0,S||0,bL(R))};a8.set=function(E){arguments[A]>1&&(E=Array[bN].splice.call(arguments,0,arguments[A]));return new aq(E)};a8.setSize=bJ;a8.top=a8.bottom=null;a8.raphael=aR;function M(){return this.x+aQ+this.y}bl.resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};bl.scale=function(cb,ca,b2,b0){if(this.removed){return this}if(cb==null&&ca==null){return{x:this._.sx,y:this._.sy,toString:M}}ca=ca||cb;!+ca&&(ca=cb);var R,E,cj,ci,cm=this.attrs;if(cb!=0){var cn=this.getBBox(),bQ=cn.x+cn.width/2,S=cn.y+cn.height/2,cg=aA(cb/this._.sx),cf=aA(ca/this._.sy);b2=(+b2||b2==0)?b2:bQ;b0=(+b0||b0==0)?b0:S;var bV=this._.sx>0,bU=this._.sy>0,b1=~~(cb/aA(cb)),bZ=~~(ca/aA(ca)),bS=cg*b1,bR=cf*bZ,cc=this.node.style,b9=b2+aA(bQ-b2)*bS*(bQ>b2==bV?1:-1),b8=b0+aA(S-b0)*bR*(S>b0==bU?1:-1),b5=(cb*b1>ca*bZ?cf:cg);switch(this.type){case"rect":case"image":var bX=cm.width*cg,b6=cm.height*cf;this.attr({height:b6,r:cm.r*b5,width:bX,x:b9-bX/2,y:b8-b6/2});break;case"circle":case"ellipse":this.attr({rx:cm.rx*cg,ry:cm.ry*cf,r:cm.r*b5,cx:b9,cy:b8});break;case"text":this.attr({x:b9,y:b8});break;case"path":var ce=aD(cm.path),bW=true,b4=bV?bS:cg,b3=bU?bR:cf;for(var cl=0,b7=ce[A];cl<b7;cl++){var ch=ce[cl],bY=bx.call(ch[0]);if(bY=="M"&&bW){continue}else{bW=false}if(bY=="A"){ch[ce[cl][A]-2]*=b4;ch[ce[cl][A]-1]*=b3;ch[1]*=cg;ch[2]*=cf;ch[5]=+(b1+bZ?!!+ch[5]:!+ch[5])}else{if(bY=="H"){for(var ck=1,bT=ch[A];ck<bT;ck++){ch[ck]*=b4}}else{if(bY=="V"){for(ck=1,bT=ch[A];ck<bT;ck++){ch[ck]*=b3}}else{for(ck=1,bT=ch[A];ck<bT;ck++){ch[ck]*=(ck%2)?b4:b3}}}}}var cd=ar(ce);R=b9-cd.x-cd.width/2;E=b8-cd.y-cd.height/2;ce[0][1]+=R;ce[0][2]+=E;this.attr({path:ce});break}if(this.type in {text:1,image:1}&&(b1!=1||bZ!=1)){if(this.transformations){this.transformations[2]="scale("[bF](b1,",",bZ,")");this.node[N]("transform",this.transformations[a5](aQ));R=(b1==-1)?-cm.x-(bX||0):cm.x;E=(bZ==-1)?-cm.y-(b6||0):cm.y;this.attr({x:R,y:E});cm.fx=b1-1;cm.fy=bZ-1}else{this.node.filterMatrix=be+".Matrix(M11="[bF](b1,", M12=0, M21=0, M22=",bZ,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");cc.filter=(this.node.filterMatrix||aY)+(this.node.filterOpacity||aY)}}else{if(this.transformations){this.transformations[2]=aY;this.node[N]("transform",this.transformations[a5](aQ));cm.fx=0;cm.fy=0}else{this.node.filterMatrix=aY;cc.filter=(this.node.filterMatrix||aY)+(this.node.filterOpacity||aY)}}cm.scale=[cb,ca,b2,b0][a5](aQ);this._.sx=cb;this._.sy=ca}return this};bl.clone=function(){if(this.removed){return null}var E=this.attr();delete E.scale;delete E.translation;return this.paper[this.type]().attr(E)};var bb={},o=function(bR,R,bV,bU,b3,b2,b1,bZ,bS){var bY=0,bX=100,bQ=[bR,R,bV,bU,b3,b2,b1,bZ].join(),E=bb[bQ],bT,S;!E&&(bb[bQ]=E={data:[]});E.timer&&clearTimeout(E.timer);E.timer=setTimeout(function(){delete bb[bQ]},2000);if(bS!=null){var b0=o(bR,R,bV,bU,b3,b2,b1,bZ);bX=~~b0*10}for(var bW=0;bW<bX+1;bW++){if(E.data[bS]>bW){S=E.data[bW*bX]}else{S=aR.findDotsAtSegment(bR,R,bV,bU,b3,b2,b1,bZ,bW/bX);E.data[bW]=S}bW&&(bY+=bu(bu(bT.x-S.x,2)+bu(bT.y-S.y,2),0.5));if(bS!=null&&bY>=bS){return S}bT=S}if(bS==null){return bY}},ba=function(E,R){return function(b1,bR,bS){b1=ae(b1);var bX,bW,S,bT,bQ="",b0={},bY,bV=0;for(var bU=0,bZ=b1.length;bU<bZ;bU++){S=b1[bU];if(S[0]=="M"){bX=+S[1];bW=+S[2]}else{bT=o(bX,bW,S[1],S[2],S[3],S[4],S[5],S[6]);if(bV+bT>bR){if(R&&!b0.start){bY=o(bX,bW,S[1],S[2],S[3],S[4],S[5],S[6],bR-bV);bQ+=["C",bY.start.x,bY.start.y,bY.m.x,bY.m.y,bY.x,bY.y];if(bS){return bQ}b0.start=bQ;bQ=["M",bY.x,bY.y+"C",bY.n.x,bY.n.y,bY.end.x,bY.end.y,S[5],S[6]][a5]();bV+=bT;bX=+S[5];bW=+S[6];continue}if(!E&&!R){bY=o(bX,bW,S[1],S[2],S[3],S[4],S[5],S[6],bR-bV);return{x:bY.x,y:bY.y,alpha:bY.alpha}}}bV+=bT;bX=+S[5];bW=+S[6]}bQ+=S}b0.end=bQ;bY=E?bV:R?b0:aR.findDotsAtSegment(bX,bW,S[1],S[2],S[3],S[4],S[5],S[6],1);bY.alpha&&(bY={x:bY.x,y:bY.y,alpha:bY.alpha});return bY}};var aT=ba(1),W=ba(),ah=ba(0,1);bl.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return aT(this.attrs.path)};bl.getPointAtLength=function(E){if(this.type!="path"){return}return W(this.attrs.path,E)};bl.getSubpath=function(S,R){if(this.type!="path"){return}if(aA(this.getTotalLength()-R)<"1e-6"){return ah(this.attrs.path,S).end}var E=ah(this.attrs.path,R,1);return S?ah(E,S).end:E};aR.easing_formulas={linear:function(E){return E},"<":function(E){return bu(E,3)},">":function(E){return bu(E-1,3)+1},"<>":function(E){E=E*2;if(E<1){return bu(E,3)/2}E-=2;return(bu(E,3)+2)/2},backIn:function(R){var E=1.70158;return R*R*((E+1)*R-E)},backOut:function(R){R=R-1;var E=1.70158;return R*R*((E+1)*R+E)+1},elastic:function(S){if(S==0||S==1){return S}var R=0.3,E=R/4;return bu(2,-10*S)*ay.sin((S-E)*(2*aV)/R)+1},bounce:function(bQ){var R=7.5625,S=2.75,E;if(bQ<(1/S)){E=R*bQ*bQ}else{if(bQ<(2/S)){bQ-=(1.5/S);E=R*bQ*bQ+0.75}else{if(bQ<(2.5/S)){bQ-=(2.25/S);E=R*bQ*bQ+0.9375}else{bQ-=(2.625/S);E=R*bQ*bQ+0.984375}}}return E}};var ag=[],bD=function(){var bT=+new Date;for(var b4=0;b4<ag[A];b4++){var b9=ag[b4];if(b9.stop||b9.el.removed){continue}var bQ=bT-b9.start,b1=b9.ms,b0=b9.easing,b5=b9.from,bY=b9.diff,R=b9.to,bX=b9.t,bS=b9.el,bZ={},E;if(bQ<b1){var S=b0(bQ/b1);for(var b2 in b5){if(b5[ap](b2)){switch(aw[b2]){case"along":E=S*b1*bY[b2];R.back&&(E=R.len-E);var b3=W(R[b2],E);bS.translate(bY.sx-bY.x||0,bY.sy-bY.y||0);bY.x=b3.x;bY.y=b3.y;bS.translate(b3.x-bY.sx,b3.y-bY.sy);R.rot&&bS.rotate(bY.r+b3.alpha,b3.x,b3.y);break;case aO:E=+b5[b2]+S*b1*bY[b2];break;case"colour":E="rgb("+[V(am(b5[b2].r+S*b1*bY[b2].r)),V(am(b5[b2].g+S*b1*bY[b2].g)),V(am(b5[b2].b+S*b1*bY[b2].b))][a5](",")+")";break;case"path":E=[];for(var b7=0,bW=b5[b2][A];b7<bW;b7++){E[b7]=[b5[b2][b7][0]];for(var b6=1,b8=b5[b2][b7][A];b6<b8;b6++){E[b7][b6]=+b5[b2][b7][b6]+S*b1*bY[b2][b7][b6]}E[b7]=E[b7][a5](aQ)}E=E[a5](aQ);break;case"csv":switch(b2){case"translation":var bV=S*b1*bY[b2][0]-bX.x,bU=S*b1*bY[b2][1]-bX.y;bX.x+=bV;bX.y+=bU;E=bV+aQ+bU;break;case"rotation":E=+b5[b2][0]+S*b1*bY[b2][0];b5[b2][1]&&(E+=","+b5[b2][1]+","+b5[b2][2]);break;case"scale":E=[+b5[b2][0]+S*b1*bY[b2][0],+b5[b2][1]+S*b1*bY[b2][1],(2 in R[b2]?R[b2][2]:aY),(3 in R[b2]?R[b2][3]:aY)][a5](aQ);break;case"clip-rect":E=[];b7=4;while(b7--){E[b7]=+b5[b2][b7]+S*b1*bY[b2][b7]}break}break;default:var bR=[].concat(b5[b2]);E=[];b7=bS.paper.customAttributes[b2].length;while(b7--){E[b7]=+bR[b7]+S*b1*bY[b2][b7]}break}bZ[b2]=E}}bS.attr(bZ);bS._run&&bS._run.call(bS)}else{if(R.along){b3=W(R.along,R.len*!R.back);bS.translate(bY.sx-(bY.x||0)+b3.x-bY.sx,bY.sy-(bY.y||0)+b3.y-bY.sy);R.rot&&bS.rotate(bY.r+b3.alpha,b3.x,b3.y)}(bX.x||bX.y)&&bS.translate(-bX.x,-bX.y);R.scale&&(R.scale+=aY);bS.attr(R);ag.splice(b4--,1)}}aR.svg&&bS&&bS.paper&&bS.paper.safari();ag[A]&&setTimeout(bD)},bH=function(E,S,bS,bR,bQ){var R=bS-bR;S.timeouts.push(setTimeout(function(){aR.is(bQ,"function")&&bQ.call(S);S.animate(E,R,E.easing)},bR))},V=function(E){return q(br(E,255),0)},K=function(E,S){if(E==null){return{x:this._.tx,y:this._.ty,toString:M}}this._.tx+=+E;this._.ty+=+S;switch(this.type){case"circle":case"ellipse":this.attr({cx:+E+this.attrs.cx,cy:+S+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+E+this.attrs.x,y:+S+this.attrs.y});break;case"path":var R=aD(this.attrs.path);R[0][1]+=+E;R[0][2]+=+S;this.attr({path:R});break}return this};bl.animateWith=function(S,bR,E,bT,bS){for(var R=0,bQ=ag.length;R<bQ;R++){if(ag[R].el.id==S.id){bR.start=ag[R].start}}return this.animate(bR,E,bT,bS)};bl.animateAlong=a4();bl.animateAlongBack=a4(1);function a4(E){return function(bQ,S,R,bS){var bR={back:E};aR.is(R,"function")?(bS=R):(bR.rot=R);bQ&&bQ.constructor==a3&&(bQ=bQ.attrs.path);bQ&&(bR.along=bQ);return this.animate(bR,S,bS)}}function a7(b0,bQ,R,bZ,bY,bU){var bV=3*bQ,bX=3*(bZ-bQ)-bV,E=1-bV-bX,bT=3*R,bW=3*(bY-R)-bT,b1=1-bT-bW;function bS(b2){return((E*b2+bX)*b2+bV)*b2}function S(b2,b4){var b3=bR(b2,b4);return((b1*b3+bW)*b3+bT)*b3}function bR(b2,b9){var b8,b7,b5,b3,b6,b4;for(b5=b2,b4=0;b4<8;b4++){b3=bS(b5)-b2;if(aA(b3)<b9){return b5}b6=(3*E*b5+2*bX)*b5+bV;if(aA(b6)<0.000001){break}b5=b5-b3/b6}b8=0;b7=1;b5=b2;if(b5<b8){return b8}if(b5>b7){return b7}while(b8<b7){b3=bS(b5);if(aA(b3-b2)<b9){return b5}if(b2>b3){b8=b5}else{b7=b5}b5=(b7-b8)/2+b8}return b5}return S(b0,1/(200*bU))}bl.onAnimation=function(E){this._run=E||0;return this};bl.animate=function(cc,b2,b1,bR){var R=this;R.timeouts=R.timeouts||[];if(aR.is(b1,"function")||!b1){bR=b1||null}if(R.removed){bR&&bR.call(R);return R}var b6={},S={},bS=false,bX={};for(var b3 in cc){if(cc[ap](b3)){if(aw[ap](b3)||R.paper.customAttributes[ap](b3)){bS=true;b6[b3]=R.attr(b3);(b6[b3]==null)&&(b6[b3]=w[b3]);S[b3]=cc[b3];switch(aw[b3]){case"along":var ca=aT(cc[b3]);var b4=W(cc[b3],ca*!!cc.back);var bT=R.getBBox();bX[b3]=ca/b2;bX.tx=bT.x;bX.ty=bT.y;bX.sx=b4.x;bX.sy=b4.y;S.rot=cc.rot;S.back=cc.back;S.len=ca;cc.rot&&(bX.r=at(R.rotate())||0);break;case aO:bX[b3]=(S[b3]-b6[b3])/b2;break;case"colour":b6[b3]=aR.getRGB(b6[b3]);var b5=aR.getRGB(S[b3]);bX[b3]={r:(b5.r-b6[b3].r)/b2,g:(b5.g-b6[b3].g)/b2,b:(b5.b-b6[b3].b)/b2};break;case"path":var bU=ae(b6[b3],S[b3]);b6[b3]=bU[0];var bZ=bU[1];bX[b3]=[];for(var b9=0,bW=b6[b3][A];b9<bW;b9++){bX[b3][b9]=[0];for(var b8=1,cb=b6[b3][b9][A];b8<cb;b8++){bX[b3][b9][b8]=(bZ[b9][b8]-b6[b3][b9][b8])/b2}}break;case"csv":var E=bL(cc[b3])[T](f),bV=bL(b6[b3])[T](f);switch(b3){case"translation":b6[b3]=[0,0];bX[b3]=[E[0]/b2,E[1]/b2];break;case"rotation":b6[b3]=(bV[1]==E[1]&&bV[2]==E[2])?bV:[0,E[1],E[2]];bX[b3]=[(E[0]-b6[b3][0])/b2,0,0];break;case"scale":cc[b3]=E;b6[b3]=bL(b6[b3])[T](f);bX[b3]=[(E[0]-b6[b3][0])/b2,(E[1]-b6[b3][1])/b2,0,0];break;case"clip-rect":b6[b3]=bL(b6[b3])[T](f);bX[b3]=[];b9=4;while(b9--){bX[b3][b9]=(E[b9]-b6[b3][b9])/b2}break}S[b3]=E;break;default:E=[].concat(cc[b3]);bV=[].concat(b6[b3]);bX[b3]=[];b9=R.paper.customAttributes[b3][A];while(b9--){bX[b3][b9]=((E[b9]||0)-(bV[b9]||0))/b2}break}}}}if(!bS){var b0=[],bQ;for(var cd in cc){if(cc[ap](cd)&&bo.test(cd)){b3={value:cc[cd]};cd=="from"&&(cd=0);cd=="to"&&(cd=100);b3.key=ac(cd,10);b0.push(b3)}}b0.sort(bv);if(b0[0].key){b0.unshift({key:0,value:R.attrs})}for(b9=0,bW=b0[A];b9<bW;b9++){bH(b0[b9].value,R,b2/100*b0[b9].key,b2/100*(b0[b9-1]&&b0[b9-1].key||0),b0[b9-1]&&b0[b9-1].value.callback)}bQ=b0[b0[A]-1].value.callback;if(bQ){R.timeouts.push(setTimeout(function(){bQ.call(R)},b2))}}else{var b7=aR.easing_formulas[b1];if(!b7){b7=bL(b1).match(g);if(b7&&b7[A]==5){var bY=b7;b7=function(ce){return a7(ce,+bY[1],+bY[2],+bY[3],+bY[4],b2)}}else{b7=function(ce){return ce}}}ag.push({start:cc.start||+new Date,ms:b2,easing:b7,from:b6,diff:bX,to:S,el:R,t:{x:0,y:0}});aR.is(bR,"function")&&(R._ac=setTimeout(function(){bR.call(R)},b2));ag[A]==1&&setTimeout(bD)}return this};bl.stop=function(){for(var E=0;E<ag.length;E++){ag[E].el.id==this.id&&ag.splice(E--,1)}for(E=0,ii=this.timeouts&&this.timeouts.length;E<ii;E++){clearTimeout(this.timeouts[E])}this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};bl.translate=function(E,R){return this.attr({translation:E+" "+R})};bl[a9]=function(){return"Rapha\xebl\u2019s object"};aR.ae=ag;var aq=function(E){this.items=[];this[A]=0;this.type="set";if(E){for(var R=0,S=E[A];R<S;R++){if(E[R]&&(E[R].constructor==a3||E[R].constructor==aq)){this[this.items[A]]=this.items[this.items[A]]=E[R];this[A]++}}}};aq[bN][m]=function(){var bQ,E;for(var R=0,S=arguments[A];R<S;R++){bQ=arguments[R];if(bQ&&(bQ.constructor==a3||bQ.constructor==aq)){E=this.items[A];this[E]=this.items[E]=bQ;this[A]++}}return this};aq[bN].pop=function(){delete this[this[A]--];return this.items.pop()};for(var Q in bl){if(bl[ap](Q)){aq[bN][Q]=(function(E){return function(){for(var R=0,S=this.items[A];R<S;R++){this.items[R][E][bK](this.items[R],arguments)}return this}})(Q)}}aq[bN].attr=function(R,bS){if(R&&aR.is(R,bg)&&aR.is(R[0],"object")){for(var E=0,bR=R[A];E<bR;E++){this.items[E].attr(R[E])}}else{for(var S=0,bQ=this.items[A];S<bQ;S++){this.items[S].attr(R,bS)}}return this};aq[bN].animate=function(R,E,bS,bU){(aR.is(bS,"function")||!bS)&&(bU=bS||null);var bR=this.items[A],S=bR,bV,bT=this,bQ;bU&&(bQ=function(){!--bR&&bU.call(bT)});bS=aR.is(bS,ao)?bS:bQ;bV=this.items[--S].animate(R,E,bS,bQ);while(S--){this.items[S]&&!this.items[S].removed&&this.items[S].animateWith(bV,R,E,bS,bQ)}return this};aq[bN].insertAfter=function(R){var E=this.items[A];while(E--){this.items[E].insertAfter(R)}return this};aq[bN].getBBox=function(){var E=[],bS=[],R=[],bQ=[];for(var S=this.items[A];S--;){var bR=this.items[S].getBBox();E[m](bR.x);bS[m](bR.y);R[m](bR.x+bR.width);bQ[m](bR.y+bR.height)}E=br[bK](0,E);bS=br[bK](0,bS);return{x:E,y:bS,width:q[bK](0,R)-E,height:q[bK](0,bQ)-bS}};aq[bN].clone=function(S){S=new aq;for(var E=0,R=this.items[A];E<R;E++){S[m](this.items[E].clone())}return S};aR.registerFont=function(R){if(!R.face){return R}this.fonts=this.fonts||{};var bQ={w:R.w,face:{},glyphs:{}},S=R.face["font-family"];for(var bT in R.face){if(R.face[ap](bT)){bQ.face[bT]=R.face[bT]}}if(this.fonts[S]){this.fonts[S][m](bQ)}else{this.fonts[S]=[bQ]}if(!R.svg){bQ.face["units-per-em"]=ac(R.face["units-per-em"],10);for(var bR in R.glyphs){if(R.glyphs[ap](bR)){var bS=R.glyphs[bR];bQ.glyphs[bR]={w:bS.w,k:{},d:bS.d&&"M"+bS.d[bB](/[mlcxtrv]/g,function(bU){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[bU]||"M"})+"z"};if(bS.k){for(var E in bS.k){if(bS[ap](E)){bQ.glyphs[bR].k[E]=bS.k[E]}}}}}}return R};a8.getFont=function(bU,bV,R,bQ){bQ=bQ||"normal";R=R||"normal";bV=+bV||{normal:400,bold:700,lighter:300,bolder:800}[bV]||400;if(!aR.fonts){return}var bR=aR.fonts[bU];if(!bR){var S=new RegExp("(^|\\s)"+bU[bB](/[^\w\d\s+!~.:_-]/g,aY)+"(\\s|$)","i");for(var E in aR.fonts){if(aR.fonts[ap](E)){if(S.test(E)){bR=aR.fonts[E];break}}}}var bS;if(bR){for(var bT=0,bW=bR[A];bT<bW;bT++){bS=bR[bT];if(bS.face["font-weight"]==bV&&(bS.face["font-style"]==R||!bS.face["font-style"])&&bS.face["font-stretch"]==bQ){break}}}return bS};a8.print=function(bR,bQ,E,bU,bV,b4,R){b4=b4||"middle";R=q(br(R||0,1),-1);var b0=this.set(),b3=bL(E)[T](aY),b1=0,bY=aY,b5;aR.is(bU,E)&&(bU=this.getFont(bU));if(bU){b5=(bV||16)/bU.face["units-per-em"];var S=bU.face.bbox.split(f),bT=+S[0],bW=+S[1]+(b4=="baseline"?S[3]-S[1]+(+bU.face.descent):(S[3]-S[1])/2);for(var bZ=0,bS=b3[A];bZ<bS;bZ++){var bX=bZ&&bU.glyphs[b3[bZ-1]]||{},b2=bU.glyphs[b3[bZ]];b1+=bZ?(bX.w||bU.w)+(bX.k&&bX.k[b3[bZ]]||0)+(bU.w*R):0;b2&&b2.d&&b0[m](this.path(b2.d).attr({fill:"#000",stroke:"none",translation:[b1,0]}))}b0.scale(b5,b5,bT,bW).translate(bR-bT,bQ-bW)}return b0};aR.format=function(R,S){var E=aR.is(S,bg)?[0][bF](S):arguments;R&&aR.is(R,ao)&&E[A]-1&&(R=R[bB](bw,function(bR,bQ){return E[++bQ]==null?aY:E[bQ]}));return R||aY};aR.ninja=function(){z.was?(aZ.Raphael=z.is):delete Raphael;return aR};aR.el=bl;aR.st=aq[bN];z.was?(aZ.Raphael=aR):(Raphael=aR)})();(function(q,r,h,o,v,l,g){r.seedrandom=function m(w,D){var A=[];var z;w=s(f(D?[w,q]:arguments.length?w:[new Date().getTime(),q,window],3),A);z=new k(A);s(z.S,q);r.random=function B(){var G=z.g(o);var F=g;var E=0;while(G<v){G=(G+E)*h;F*=h;E=z.g(1)}while(G>=l){G/=2;F/=2;E>>>=1}return(G+E)/F};return w};function k(E){var D,A,G=this,F=E.length;var B=0,z=G.i=G.j=G.m=0;G.S=[];G.c=[];if(!F){E=[F++]}while(B<h){G.S[B]=B++}for(B=0;B<h;B++){D=G.S[B];z=j(z+D+E[B%F]);A=G.S[z];G.S[B]=A;G.S[z]=D}G.g=function w(N){var L=G.S;var K=j(G.i+1);var J=L[K];var I=j(G.j+J);var H=L[I];L[K]=H;L[I]=J;var M=L[j(J+H)];while(--N){K=j(K+1);J=L[K];I=j(I+J);H=L[I];L[K]=H;L[I]=J;M=M*h+L[j(J+H)]}G.i=K;G.j=I;return M};G.g(h)}function f(A,B,w,D){w=[];if(B&&typeof(A)=="object"){for(D in A){if(D.indexOf("S")<5){try{w.push(f(A[D],B-1))}catch(z){}}}}return w.length?w:""+A}function s(w,A,B,z){w+="";B=0;for(z=0;z<w.length;z++){A[j(z)]=j((B^=A[j(z)]*19)+w.charCodeAt(z))}w="";for(z in A){w+=String.fromCharCode(A[z])}return w}function j(w){return w&(h-1)}g=r.pow(h,o);v=r.pow(2,v);l=v*2;s(r.random(),q)})([],Math,256,6,52);